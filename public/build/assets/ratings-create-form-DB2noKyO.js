import{a as l,j as a,as as u,y as o}from"./main-Bv3hUDlE.js";import{c as d,e as p}from"./index.esm-Dc9HbSVZ.js";import{B as x}from"./button-CLhFIVpf.js";import{F as f,a as g}from"./formik.esm-BX1ESkeW.js";import{T as h}from"./text-field-BcnIF0Fw.js";const j=d().shape({score:p().required("")});function R({dto:i,onSuccess:r}){const n=l(),c=i,m=async(t,e)=>{e.setSubmitting(!0),await n(u({dto:t,onSuccess:s=>{r&&r(s),o.success("Данные успешно сохранены.")},onValidationError:s=>e.setErrors({...s.errors}),onFail:s=>o.success(s)})),e.setSubmitting(!1)};return a.jsx(f,{initialValues:c,validationSchema:j,onSubmit:m,children:({isSubmitting:t})=>a.jsxs(g,{className:"flex flex-col px-2 gap-2",children:[a.jsx(h,{className:"grow",name:"score",label:"Оценка",autoFocus:!0}),a.jsx("div",{className:"flex items-center justify-end gap-2 -mt-1",children:a.jsx(x,{className:"!h-8 bg-transparent !text-success shadow-none hover:!bg-transparent",type:"submit",disabled:t,loading:t,variant:"success",children:"Сохранить"})})]})})}export{R};
