import{a as m,u as a,r as p,i as c,v as h,n as u,j as s,S as o,L as d,X as f,A as x}from"./main-DOJC8ST-.js";import{D as g}from"./description-list-Bqc_iF6P.js";import{g as j,a as N}from"./grades-selector-DTsrrSJ9.js";import{g as b,a as v}from"./users-selector-BjidioDu.js";import"./preload-helper-DPi8upcZ.js";function G(){const r=m(),l=a(b),i=a(j),t=a(v),n=a(N);return p.useEffect(()=>{l===c.Idle&&r(h()),i===c.Idle&&r(u())},[r,i,l]),s.jsxs("main",{className:"py-2 flex flex-col gap-4",children:[s.jsx("h1",{className:"title mb-1 px-3",children:"Отчеты и статистики"}),s.jsxs("section",{className:"box",children:[s.jsx("header",{className:"box__header",children:s.jsx("h2",{className:"title md:!text-lg",children:"Базовая информация"})}),s.jsxs("div",{className:"relative",children:[t?s.jsx(g,{className:"box__body",list:{Ученики:t.filter(({role:e})=>e==="student").length,Родители:t.filter(({role:e})=>e==="parent").length,Педагоги:t.filter(({role:e})=>e==="teacher").length}}):s.jsx(o,{className:"mx-4 my-2 w-4 h-4"}),s.jsx("div",{className:"absolute top-[1px] right-0 rounded-br-md z-10 min-w-6 h-[calc(100%-1px)] pointer-events-none bg-gradient-to-l from-white to-transparent"})]})]}),s.jsxs("section",{className:"box",children:[s.jsx("header",{className:"box__header",children:s.jsx("h2",{className:"title md:!text-lg",children:"Список готовых отчетов"})}),s.jsxs("div",{className:"relative",children:[n?s.jsx("div",{className:"box__body",children:s.jsxs("ul",{className:"grid grid-cols-[repeat(auto-fit,minmax(100px,1fr))] gap-4 max-w-[1200px]",children:[n.map(e=>s.jsx("li",{children:s.jsxs(d,{className:"text-blue-600 text-xl font-semibold",to:f(x.Reports.Grade,{id:e.id}),children:[e.level," ",e.group]})},e.id)),s.jsx("li",{className:"flex items-end",children:s.jsx(d,{className:"text-blue-600 text-sx font-semibold",to:x.Reports.Grades,children:"Все классы"})})]})}):s.jsx(o,{className:"mx-4 my-2 w-4 h-4"}),s.jsx("div",{className:"absolute top-[1px] right-0 rounded-br-md z-10 min-w-6 h-[calc(100%-1px)] pointer-events-none bg-gradient-to-l from-white to-transparent"})]})]})]})}export{G as default};
