import{a as f,u as o,r as k,i as p,ao as x,a7 as y,j as t,S,L as A}from"./main-DzOvJ3Bl.js";import{D as B}from"./data-table-DhQGkLo7.js";import{b,g as j,c as z,a as I}from"./books-selector-DOc_U6u5.js";import{A as K}from"./books-Bhzd4aEF.js";import"./preload-helper-BfFHrpNk.js";import"./icons-B5TgyNC1.js";import"./use-dropdown-D7UlQ3WZ.js";import"./index-D18-tjuz.js";import"./button-BK2ewXLd.js";function _(){const i=f(),n=o(b),l=o(j),d=o(z),s=o(I);k.useEffect(()=>{n===p.Idle&&i(x()),l===p.Idle&&i(y())},[n,l,i]);const h=[{id:"title",accessorKey:"title",header:"Название",size:360},{id:"category",accessorKey:"category",header:"Категория",size:360,cell:({row:e})=>{var a;return(a=s==null?void 0:s.find(({id:c})=>+c==+e.original.categoryId))==null?void 0:a.title},sortingFn:(e,a)=>{var g,m;const c=((g=s==null?void 0:s.find(({id:r})=>+r==+e.original.categoryId))==null?void 0:g.title)||"",u=((m=s==null?void 0:s.find(({id:r})=>+r==+a.original.categoryId))==null?void 0:m.title)||"";return c.localeCompare(u)}},{id:"access",accessorKey:"access",header:"Доступность",size:200,cell:({row:e})=>K[e.original.access]},{id:"lang",accessorKey:"lang",header:"Язык",size:160},{id:"link",accessorKey:"link",header:"Ссылка",size:420,cell:({row:e})=>t.jsx(A,{className:"text-blue-500",to:e.original.link,target:"_blank",children:e.original.link})}];return t.jsxs("main",{className:"py-2",children:[t.jsxs("h1",{className:"title mb-1 px-3",children:["Книги (",s==null?void 0:s.length,")"]}),d?t.jsx(B,{data:d,columns:h,sortingState:[{id:"title",desc:!1}],columnPinningState:{right:["actions"]}}):t.jsx(S,{className:"w-8 h-8"})]})}export{_ as default};
