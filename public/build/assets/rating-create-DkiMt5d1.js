import{r as i,j as e}from"./main-XRo2qOUM.js";import{I as d}from"./icons-B9HDjQFM.js";import{R as u}from"./ratings-create-form-DlB_WbeZ.js";import"./preload-helper-DPi8upcZ.js";import"./index.esm-DPaSKxW4.js";import"./button-Y4UR9_BE.js";import"./formik.esm-Be66R8Pj.js";import"./text-field-DZyLsNjz.js";import"./cleanable-vEQcTMeq.js";import"./index.browser-OxPLOBIU.js";function R({studentName:c,position:n,dto:a,onClose:s,onSuccess:m}){const t=i.useRef(null);return i.useEffect(()=>{if(t.current){t.current.style.top=`${n.top}px`,t.current.style.left=`${n.left}px`;const r=t.current.getBoundingClientRect();r.right>window.innerWidth&&(t.current.style.transform=`translateX(-${r.right-window.innerWidth+32}px)`),r.bottom>window.innerHeight&&(t.current.style.top="auto",t.current.style.bottom="16px")}const o=r=>{t.current&&!t.current.contains(r.target)&&s()};return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[s,n.left,n.top]),e.jsxs("div",{ref:t,className:"fixed flex z-30 min-w-52 max-w-52 flex-col py-1 bg-white rounded border shadow transform font-normal",children:[e.jsxs("div",{className:"flex justify-between items-center pl-2 pr-1",children:[e.jsx("h3",{className:"text-sm leading-none text-gray-400",children:c}),e.jsx("button",{className:"border rounded p-1 text-danger",type:"button",onClick:s,children:e.jsx(d.close,{width:10,height:10})})]}),e.jsx("hr",{className:"my-1"}),e.jsx(u,{dto:a,onSuccess:o=>{m(o),s()}})]})}export{R as default};
