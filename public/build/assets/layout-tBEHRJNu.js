import{u as F,a as c,B as D,r as z,k as B,h as E,j as e,z as L,S as I,K as h,A as m,c as n}from"./main-D1X-5qeh.js";import{g as R}from"./grades-selector-CjDDihwd.js";import{b as G}from"./users-DUqPc0QS.js";import{g as S}from"./nationalities-selector-BQnDI0q3.js";import{D as K}from"./description-list-D0pPZU8B.js";import{B as A}from"./button-BxcCnYcJ.js";import{I as t}from"./icons-Cwm3zsc5.js";function M({children:$,withSidebar:x=!1}){var f,g,u,j,b,w,N,v,k,y,_;const d=F(),a=c(D),i=c(R),r=(f=i.data)==null?void 0:f.find(({id:s})=>{var l;return s===((l=a==null?void 0:a.student)==null?void 0:l.gradeId)}),o=c(S),p={};return z.useEffect(()=>{!i.data&&!i.isFetching&&d(B()),!o.data&&!o.isFetching&&d(E())},[d,i.data,i.isFetching,o.data,o.isFetching,p.data,p.isFetching]),a?e.jsx(L,{children:e.jsxs("main",{className:"pt-4 pb-40",children:[e.jsxs("header",{className:"relative z-10 lg:flex lg:items-top lg:gap-4",children:[e.jsx("div",{className:"relative min-w-36 max-w-36 min-h-36 max-h-36 !p-0 mb-2 lg:mb-0",children:e.jsx("img",{className:"block w-full h-full rounded-full object-cover border-[2px] border-white",src:a.avatarThumb||"/images/avatar.png",width:144,height:144,alt:a.name})}),e.jsxs("div",{className:"lg:grow lg:mt-20",children:[e.jsxs("h1",{className:"title mb-1",children:[a.surname," ",a.name]}),e.jsxs("span",{className:"flex max-w-max text-center bg-blue-200 text-primary rounded-full text-sm py-1 px-2 leading-none",children:[G[a.role]," ",r&&`${r==null?void 0:r.level} ${r.group}`]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("ul",{className:"flex items-center font-medium text-slate-500 overflow-scroll no-scrollbar py-4 pl-2 -ml-2 pr-7",children:[e.jsx("li",{children:e.jsx(h,{className:({isActive:s})=>n("flex items-center h-7 px-2 transition-all duration-150 border border-transparent min-w-max",s&&"rounded shadow bg-white border-gray-200"),to:m.Auth.Profile,children:"Профиль"})}),e.jsx("li",{children:e.jsx(h,{className:({isActive:s})=>n("flex items-center h-7 px-2 transition-all duration-150 border border-transparent min-w-max",s&&"rounded shadow bg-white border-gray-200"),to:m.Auth.Lessons,children:"Расписание занятий"})}),e.jsx("li",{children:e.jsx(h,{className:({isActive:s})=>n("flex items-center h-7 px-2 transition-all duration-150 border border-transparent min-w-max",s&&"rounded shadow bg-white border-gray-200"),to:m.Auth.Diary,children:"Дневник"})})]}),e.jsx("div",{className:"absolute top-0 right-0 z-10 min-w-6 h-full pointer-events-none bg-gradient-to-l from-gray-100 to-transparent"})]}),e.jsxs("div",{className:n("flex flex-col gap-4",x&&"xl:grid xl:grid-cols-[75%_1fr]"),children:[e.jsx("div",{className:"flex flex-col gap-4 grow",children:$}),x&&e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("section",{className:"box",children:[e.jsxs("div",{className:"box__header flex-col !items-start",children:[e.jsxs(A,{className:"flex items-center gap-2 text-blue-600 leading-none",variant:"default",href:a.email?`mailto:${a.email}`:"",children:[e.jsx("span",{className:"flex items-center justify-center w-7 h-7 rounded bg-blue-50 text-success",children:e.jsx(t.mail,{width:16,height:16})}),a.email??"-"]}),e.jsxs(A,{className:n("flex items-center gap-2 text-blue-600 leading-none",!a.whatsapp&&"pointer-events-none"),variant:"default",href:`https://wa.me/+${(g=a.whatsapp)==null?void 0:g.code}${(u=a.whatsapp)==null?void 0:u.numbers}`,target:"_blank",children:[e.jsx("span",{className:"flex items-center justify-center w-7 h-7 rounded bg-blue-50 text-success",children:e.jsx(t.whatsapp,{width:16,height:16})}),a.whatsapp?`+${a.whatsapp.code} ${a.whatsapp.numbers}`:"-"]})]}),e.jsx(K,{className:"box__body",variant:"detailed",list:{}})]}),e.jsxs("section",{className:"box",children:[e.jsx("header",{className:"box__header",children:e.jsx("h2",{className:"font-medium text-gray-900",children:"Телефонные номера"})}),e.jsx("ul",{className:"box__body flex flex-col gap-2",children:(j=a.phoneNumbers)==null?void 0:j.map(({code:s,numbers:l})=>e.jsx("li",{children:e.jsxs("a",{className:"flex items-center gap-2 w-max text-blue-600",href:`tel:+${s}${l}`,children:[e.jsx("span",{className:"flex items-center w-7 h-7 justify-center bg-blue-50 rounded text-success",children:e.jsx(t.phone,{width:16,height:16})}),"+",s," ",l]})},l))})]}),e.jsxs("section",{className:"box",children:[e.jsx("header",{className:"box__header",children:e.jsx("h2",{className:"font-medium text-gray-900",children:"Социальные сети"})}),e.jsxs("div",{className:"box__body flex flex-wrap gap-2",children:[((b=a.socialLink)==null?void 0:b.facebook)&&e.jsx("a",{className:"flex shadow-md rounded-full transition-all duration-150 hover:shadow-none",href:a.socialLink.facebook,target:"_blank",children:e.jsx(t.facebook,{width:24,height:24})}),((w=a.socialLink)==null?void 0:w.instagram)&&e.jsx("a",{className:"flex shadow-md rounded-full transition-all duration-150 hover:shadow-none",href:(N=a.socialLink)==null?void 0:N.instagram,target:"_blank",children:e.jsx(t.instagram,{width:24,height:24})}),((v=a.socialLink)==null?void 0:v.telegram)&&e.jsx("a",{className:"flex shadow-md rounded-full transition-all duration-150 hover:shadow-none",href:(k=a.socialLink)==null?void 0:k.telegram,target:"_blank",children:e.jsx(t.telegram,{width:24,height:24})}),((y=a.socialLink)==null?void 0:y.odnoklassniki)&&e.jsx("a",{className:"flex shadow-md rounded-full transition-all duration-150 hover:shadow-none",href:(_=a.socialLink)==null?void 0:_.odnoklassniki,target:"_blank",children:e.jsx(t.odnoklassniki,{width:24,height:24})})]})]})]})]})]})}):e.jsx(L,{children:e.jsx(I,{className:"w-8 h-8 m-2"})})}export{M as L};
