import{r as o,a as r,t as h,j as s,_ as A,A as v,c as k,q as _,L as d,u as y,h as f,k as $,v as L,x as I,m as D,i as P,S as M}from"./main-Dw1yuUwf.js";import{a as Y,g as z}from"./users-selector-DnYDMv9p.js";import{b as g,S as B}from"./users-DUqPc0QS.js";import{a as U,g as E}from"./grades-selector-7JnXScQQ.js";import{a as G,g as R}from"./nationalities-selector-3uynH7pm.js";import{g as S,a as C}from"./professions-selector-DtbhPhXB.js";import{C as H}from"./copy-button-DcslLt_D.js";import{D as j}from"./description-list-CKcNa6Qp.js";import{I as m}from"./icons-D1xy210t.js";import{B as w}from"./button-CZ8BjX0E.js";import"./preload-helper-DPi8upcZ.js";function q(){const e=r(h),a=r(U),t=a==null?void 0:a.find(({id:n})=>{var i;return n===((i=e==null?void 0:e.student)==null?void 0:i.gradeId)});if(e)return s.jsxs("header",{className:"relative z-10 lg:flex lg:items-top lg:gap-4",children:[s.jsx("div",{className:"relative z-10 w-36 mb-2 lg:mb-0",children:s.jsx("div",{children:s.jsx("img",{className:"block w-full h-full rounded-full object-cover border-[2px] border-white",src:e.avatarThumb||"/images/avatar.png",width:144,height:144,alt:e.name})})}),s.jsxs("div",{className:"lg:grow lg:mt-20",children:[s.jsxs("h1",{className:"title mb-1",children:[e.surname," ",e.name]}),s.jsxs("span",{className:"flex max-w-max text-center bg-blue-200 text-primary rounded-full text-sm py-1 px-2 leading-none",children:[g[e.role]," ",t&&`${t==null?void 0:t.level} ${t.group}`]})]})]})}const F=o.memo(q);function T(){return s.jsxs("div",{className:"relative",children:[s.jsx("ul",{className:"flex items-center font-medium text-slate-500 overflow-scroll no-scrollbar py-4 pl-2 -ml-2 pr-7",children:s.jsx("li",{children:s.jsx(A,{className:({isActive:e})=>k("flex items-center h-7 px-2 transition-all duration-150 border border-transparent min-w-max",e&&"rounded shadow bg-white border-gray-200"),to:v.Auth.Profile,children:"Профиль"})})}),s.jsx("div",{className:"absolute top-0 right-0 z-10 min-w-6 h-full pointer-events-none bg-gradient-to-l from-gray-100 to-transparent"})]})}const W=o.memo(T);function J(){var t;const e=r(h),a=r(G);return((t=a==null?void 0:a.find(({id:n})=>n===(e==null?void 0:e.nationalityId)))==null?void 0:t.name)||"-"}function K(){const e=r(h),a=o.useMemo(()=>e?{Фамилия:e.surname,Имя:e.name,Отчество:e.patronymic??"-",Логин:e.login,Пароль:e.password?s.jsx(H,{className:"items-baseline font-normal text-[16px] h-auto !p-0 shadow-none",string:e.password,children:"Скопировать"}):"-",Позиция:g[e.role],Пол:B[e.sex],"Электронная почта":e.email?s.jsx(d,{className:"text-blue-600",to:`mailto:${e.email}`,children:e.email}):"-","Дата рождения":e.birthDate?_(e.birthDate).format("DD MMMM YYYY"):"-",Адрес:e.address?`${e.address.region!=="За пределами города"?"район ":""}${e.address.region}, ${e.address.physicalAddress}`:"-",Национальность:s.jsx(J,{}),WhatsApp:e.whatsapp?s.jsxs("a",{className:"text-blue-600",href:`https://wa.me/+${e.whatsapp.code}${e.whatsapp.numbers}`,target:"_blank",rel:"noopener noreferrer",children:["+",e.whatsapp.code," ",e.whatsapp.numbers]}):"-"}:{},[e]);if(e)return s.jsxs("section",{className:"box",children:[s.jsx("header",{className:"box__header",children:s.jsx("h2",{className:"title md:!text-lg",children:"Базовая информация"})}),s.jsxs("div",{className:"relative",children:[s.jsx(j,{className:"box__body",list:a}),s.jsx("div",{className:"absolute top-[1px] right-0 rounded-br-md z-10 min-w-6 h-[calc(100%-1px)] pointer-events-none bg-gradient-to-l from-white to-transparent"})]})]})}const O=o.memo(K);function Q(){var a,t;const e=r(h);if(e)return s.jsxs("section",{className:"box",children:[s.jsxs("div",{className:"box__header flex-col !items-start",children:[s.jsxs(w,{className:"flex items-center gap-2 text-blue-600 leading-none",variant:"default",href:e.email?`mailto:${e.email}`:"",children:[s.jsx("span",{className:"flex items-center justify-center w-7 h-7 rounded bg-blue-50 text-success",children:s.jsx(m.mail,{width:16,height:16})}),e.email??"-"]}),s.jsxs(w,{className:k("flex items-center gap-2 text-blue-600 leading-none",!e.whatsapp&&"pointer-events-none"),variant:"default",href:`https://wa.me/+${(a=e.whatsapp)==null?void 0:a.code}${(t=e.whatsapp)==null?void 0:t.numbers}`,target:"_blank",children:[s.jsx("span",{className:"flex items-center justify-center w-7 h-7 rounded bg-blue-50 text-success",children:s.jsx(m.whatsapp,{width:16,height:16})}),e.whatsapp?`+${e.whatsapp.code} ${e.whatsapp.numbers}`:"-"]})]}),s.jsx(j,{className:"box__body",variant:"detailed",list:{"Дата регистрации":_(e.createdAt).format("DD MMMM YYYY")}})]})}const V=o.memo(Q);function X(){var a;const e=r(h);if(e)return s.jsxs("section",{className:"box",children:[s.jsx("header",{className:"box__header",children:s.jsx("h2",{className:"font-medium text-gray-900",children:"Телефонные номера"})}),s.jsx("ul",{className:"box__body flex flex-col gap-2",children:(a=e.phoneNumbers)==null?void 0:a.map(({code:t,numbers:n})=>s.jsx("li",{children:s.jsxs(d,{className:"flex items-center gap-2 w-max text-blue-600",to:`tel:+${t}${n}`,children:[s.jsx("span",{className:"flex items-center w-7 h-7 justify-center bg-blue-50 rounded text-success",children:s.jsx(m.phone,{width:16,height:16})}),"+",t," ",n]})},n))})]})}const Z=o.memo(X);function ee(){var a,t,n,i,l,x,p;const e=r(h);if(e)return s.jsxs("section",{className:"box",children:[s.jsx("header",{className:"box__header",children:s.jsx("h2",{className:"font-medium text-gray-900",children:"Социальные сети"})}),s.jsxs("div",{className:"box__body flex flex-wrap gap-2",children:[((a=e.socialLink)==null?void 0:a.facebook)&&s.jsx(d,{className:"flex shadow-md rounded-full transition-all duration-150 hover:shadow-none",to:e.socialLink.facebook,target:"_blank",children:s.jsx(m.facebook,{width:24,height:24})}),((t=e.socialLink)==null?void 0:t.instagram)&&s.jsx(d,{className:"flex shadow-md rounded-full transition-all duration-150 hover:shadow-none",to:(n=e.socialLink)==null?void 0:n.instagram,target:"_blank",children:s.jsx(m.instagram,{width:24,height:24})}),((i=e.socialLink)==null?void 0:i.telegram)&&s.jsx(d,{className:"flex shadow-md rounded-full transition-all duration-150 hover:shadow-none",to:(l=e.socialLink)==null?void 0:l.telegram,target:"_blank",children:s.jsx(m.telegram,{width:24,height:24})}),((x=e.socialLink)==null?void 0:x.odnoklassniki)&&s.jsx(d,{className:"flex shadow-md rounded-full transition-all duration-150 hover:shadow-none",to:(p=e.socialLink)==null?void 0:p.odnoklassniki,target:"_blank",children:s.jsx(m.odnoklassniki,{width:24,height:24})})]})]})}const se=o.memo(ee);function ae({user:e}){var x,p,b;const a=y(),t=r(S),n=r(Y),i=r(C),l=n==null?void 0:n.filter(({id:c})=>{var u,N;return(N=(u=e.parent)==null?void 0:u.children)==null?void 0:N.includes(c)});return o.useEffect(()=>{t===f.Idle&&a($())},[a,t]),s.jsxs("section",{className:"box",children:[s.jsx("header",{className:"box__header",children:s.jsx("h2",{className:"title md:!text-lg",children:g[e.role]})}),s.jsxs("div",{className:"relative",children:[s.jsx(j,{className:"box__body",list:{Дети:l!=null&&l.length?l.map(c=>s.jsxs(o.Fragment,{children:[s.jsxs(d,{className:"text-blue-600",to:L(v.Users.Show,{id:c.id}),children:[c.surname," ",c.name]}),s.jsx("br",{})]},c.id)):"-","Сфера деятельности":((x=i==null?void 0:i.find(({id:c})=>{var u;return((u=e.parent)==null?void 0:u.professionId)===c}))==null?void 0:x.name)??"-","Место работы":((p=e.parent)==null?void 0:p.workplace)??"-",Должность:((b=e.parent)==null?void 0:b.position)??"-"}}),s.jsx("div",{className:"absolute top-[1px] right-0 rounded-br-md z-10 min-w-6 h-[calc(100%-1px)] pointer-events-none bg-gradient-to-l from-white to-transparent"})]})]})}function pe(){const e=y(),a=r(h),t=r(z),n=r(E),i=r(R),l=r(S);return o.useEffect(()=>{t===f.Idle&&e(I()),n===f.Idle&&e(D()),i===f.Idle&&e(P()),l===f.Idle&&e($())},[e,n,i,l,t]),a?s.jsxs("main",{className:"pt-4 pb-40",children:[s.jsx(F,{}),s.jsx(W,{}),s.jsxs("div",{className:"flex flex-col gap-4 xl:grid xl:grid-cols-[3fr_1fr]",children:[s.jsxs("div",{className:"flex flex-col gap-4 grow",children:[s.jsx(O,{}),s.jsx(ae,{user:a})]}),s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx(V,{}),s.jsx(Z,{}),s.jsx(se,{})]})]})]}):s.jsx(M,{className:"w-8 h-8 m-2"})}export{pe as default};
