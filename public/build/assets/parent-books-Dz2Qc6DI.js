import{a as h,u as o,r as k,i as p,an as x,a7 as y,j as e,S,L as B}from"./main-Bv3hUDlE.js";import{D as b}from"./data-table-DYZL0fwY.js";import{b as j,g as A,c as z,a as I}from"./books-selector-DiTYnA5N.js";import{a as K}from"./books-BmVPUTHd.js";import"./preload-helper-BfFHrpNk.js";import"./icons-CQR9b9Fl.js";import"./use-dropdown-BI5bdOKY.js";import"./index-CYtogc1c.js";import"./button-CLhFIVpf.js";function _(){const i=h(),n=o(j),l=o(A),d=o(z),s=o(I);k.useEffect(()=>{n===p.Idle&&i(x()),l===p.Idle&&i(y())},[n,l,i]);const u=[{id:"title",accessorKey:"title",header:"Название",size:360},{id:"category",accessorKey:"category",header:"Категория",size:360,cell:({row:t})=>{var a;return(a=s==null?void 0:s.find(({id:c})=>+c==+t.original.categoryId))==null?void 0:a.title},sortingFn:(t,a)=>{var g,m;const c=((g=s==null?void 0:s.find(({id:r})=>+r==+t.original.categoryId))==null?void 0:g.title)||"",f=((m=s==null?void 0:s.find(({id:r})=>+r==+a.original.categoryId))==null?void 0:m.title)||"";return c.localeCompare(f)}},{id:"access",accessorKey:"access",header:"Доступность",size:200,cell:({row:t})=>K[t.original.access]},{id:"lang",accessorKey:"lang",header:"Язык",size:160},{id:"link",accessorKey:"link",header:"Ссылка",size:420,cell:({row:t})=>e.jsx(B,{className:"text-blue-500",to:t.original.link,target:"_blank",children:t.original.link})}];return e.jsxs("main",{className:"py-2",children:[e.jsxs("h1",{className:"title mb-1 px-3",children:["Книги (",s==null?void 0:s.length,")"]}),d?e.jsx(b,{data:d,columns:u,sortingState:[{id:"title",desc:!1}],columnPinningState:{right:["actions"]}}):e.jsx(S,{className:"w-8 h-8"})]})}export{_ as default};
