import{r as i,j as e}from"./main-Dw1yuUwf.js";import{I as d}from"./icons-D1xy210t.js";import{M as u}from"./marks-create-form-KkltcNzx.js";import"./preload-helper-DPi8upcZ.js";import"./index.esm-Cn9hwLpj.js";import"./button-CZ8BjX0E.js";import"./content-field-BSM_19N7.js";import"./cleanable-B5JIVvlz.js";import"./formik.esm-Bvm5ZwHr.js";import"./select-field-CyfcuCvi.js";import"./use-dropdown-DWskSKMx.js";import"./index.browser-OxPLOBIU.js";import"./marks-KWTxiGgr.js";import"./text-field-BKZ9EOHO.js";function R({studentName:m,position:n,dto:c,onClose:o,onSuccess:a}){const t=i.useRef(null);return i.useEffect(()=>{if(t.current){t.current.style.top=`${n.top}px`,t.current.style.left=`${n.left}px`;const r=t.current.getBoundingClientRect();r.right>window.innerWidth&&(t.current.style.transform=`translateX(-${r.right-window.innerWidth+32}px)`),r.bottom>window.innerHeight&&(t.current.style.top="auto",t.current.style.bottom="16px")}const s=r=>{t.current&&!t.current.contains(r.target)&&o()};return document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[o,n.left,n.top]),e.jsxs("div",{ref:t,className:"fixed flex z-30 min-w-52 max-w-52 flex-col py-1 bg-white rounded border shadow transform font-normal",children:[e.jsxs("div",{className:"flex justify-between items-center pl-2 pr-1",children:[e.jsx("h3",{className:"text-sm leading-none text-gray-400",children:m}),e.jsx("button",{className:"border rounded p-1 text-danger",type:"button",onClick:o,children:e.jsx(d.close,{width:10,height:10})})]}),e.jsx("hr",{className:"my-1"}),e.jsx(u,{dto:c,onSuccess:s=>{a(s),o()}})]})}export{R as default};
