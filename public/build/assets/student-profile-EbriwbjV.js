import{a as i,t as x,r as u,j as s,q as b,L as l,c as S,v as p,A as j,u as y,h as g,x as D,m as $,i as I,k as L,S as A}from"./main-DLHcp_34.js";import{a as M,g as Y}from"./users-selector-PkA7Q9gb.js";import{H as U,N as P}from"./navigation-DIoIdLwW.js";import{a as B,g as R}from"./nationalities-selector-DOH6-eHl.js";import{g as C}from"./professions-selector-BUmmo-Hs.js";import{a as E,g as G}from"./grades-selector-BzUEWiWt.js";import{C as z}from"./copy-button-CPwdC5V2.js";import{D as N}from"./description-list-D9mIt6Ax.js";import{S as H,b as v}from"./users-DUqPc0QS.js";import{I as h}from"./icons-OdLsuZAu.js";import{B as _}from"./button-Bb1-8EaV.js";import"./preload-helper-DPi8upcZ.js";function q(){var a;const e=i(x),t=i(B);return((a=t==null?void 0:t.find(({id:n})=>n===(e==null?void 0:e.nationalityId)))==null?void 0:a.name)||"-"}function W(){const e=i(x),t=u.useMemo(()=>e?{Фамилия:e.surname,Имя:e.name,Отчество:e.patronymic??"-",Логин:e.login,Пароль:e.password?s.jsx(z,{className:"items-baseline font-normal text-[16px] h-auto !p-0 shadow-none",string:e.password,children:"Скопировать"}):"-",Позиция:v[e.role],Пол:H[e.sex],"Электронная почта":e.email?s.jsx(l,{className:"text-blue-600",to:`mailto:${e.email}`,children:e.email}):"-","Дата рождения":e.birthDate?b(e.birthDate).format("DD MMMM YYYY"):"-",Адрес:e.address?`${e.address.region!=="За пределами города"?"район ":""}${e.address.region}, ${e.address.physicalAddress}`:"-",Национальность:s.jsx(q,{}),WhatsApp:e.whatsapp?s.jsxs("a",{className:"text-blue-600",href:`https://wa.me/+${e.whatsapp.code}${e.whatsapp.numbers}`,target:"_blank",rel:"noopener noreferrer",children:["+",e.whatsapp.code," ",e.whatsapp.numbers]}):"-"}:{},[e]);if(e)return s.jsxs("section",{className:"box",children:[s.jsx("header",{className:"box__header",children:s.jsx("h2",{className:"title md:!text-lg",children:"Базовая информация"})}),s.jsxs("div",{className:"relative",children:[s.jsx(N,{className:"box__body",list:t}),s.jsx("div",{className:"absolute top-[1px] right-0 rounded-br-md z-10 min-w-6 h-[calc(100%-1px)] pointer-events-none bg-gradient-to-l from-white to-transparent"})]})]})}const F=u.memo(W);function J(){var t,a;const e=i(x);if(e)return s.jsxs("section",{className:"box",children:[s.jsxs("div",{className:"box__header flex-col !items-start",children:[s.jsxs(_,{className:"flex items-center gap-2 text-blue-600 leading-none",variant:"default",href:e.email?`mailto:${e.email}`:"",children:[s.jsx("span",{className:"flex items-center justify-center w-7 h-7 rounded bg-blue-50 text-success",children:s.jsx(h.mail,{width:16,height:16})}),e.email??"-"]}),s.jsxs(_,{className:S("flex items-center gap-2 text-blue-600 leading-none",!e.whatsapp&&"pointer-events-none"),variant:"default",href:`https://wa.me/+${(t=e.whatsapp)==null?void 0:t.code}${(a=e.whatsapp)==null?void 0:a.numbers}`,target:"_blank",children:[s.jsx("span",{className:"flex items-center justify-center w-7 h-7 rounded bg-blue-50 text-success",children:s.jsx(h.whatsapp,{width:16,height:16})}),e.whatsapp?`+${e.whatsapp.code} ${e.whatsapp.numbers}`:"-"]})]}),s.jsx(N,{className:"box__body",variant:"detailed",list:{"Дата регистрации":b(e.createdAt).format("DD MMMM YYYY")}})]})}const K=u.memo(J);function O(){var t;const e=i(x);if(e)return s.jsxs("section",{className:"box",children:[s.jsx("header",{className:"box__header",children:s.jsx("h2",{className:"font-medium text-gray-900",children:"Телефонные номера"})}),s.jsx("ul",{className:"box__body flex flex-col gap-2",children:(t=e.phoneNumbers)==null?void 0:t.map(({code:a,numbers:n})=>s.jsx("li",{children:s.jsxs(l,{className:"flex items-center gap-2 w-max text-blue-600",to:`tel:+${a}${n}`,children:[s.jsx("span",{className:"flex items-center w-7 h-7 justify-center bg-blue-50 rounded text-success",children:s.jsx(h.phone,{width:16,height:16})}),"+",a," ",n]})},n))})]})}const Q=u.memo(O);function T(){var t,a,n,o,r,d,f;const e=i(x);if(e)return s.jsxs("section",{className:"box",children:[s.jsx("header",{className:"box__header",children:s.jsx("h2",{className:"font-medium text-gray-900",children:"Социальные сети"})}),s.jsxs("div",{className:"box__body flex flex-wrap gap-2",children:[((t=e.socialLink)==null?void 0:t.facebook)&&s.jsx(l,{className:"flex shadow-md rounded-full transition-all duration-150 hover:shadow-none",to:e.socialLink.facebook,target:"_blank",children:s.jsx(h.facebook,{width:24,height:24})}),((a=e.socialLink)==null?void 0:a.instagram)&&s.jsx(l,{className:"flex shadow-md rounded-full transition-all duration-150 hover:shadow-none",to:(n=e.socialLink)==null?void 0:n.instagram,target:"_blank",children:s.jsx(h.instagram,{width:24,height:24})}),((o=e.socialLink)==null?void 0:o.telegram)&&s.jsx(l,{className:"flex shadow-md rounded-full transition-all duration-150 hover:shadow-none",to:(r=e.socialLink)==null?void 0:r.telegram,target:"_blank",children:s.jsx(h.telegram,{width:24,height:24})}),((d=e.socialLink)==null?void 0:d.odnoklassniki)&&s.jsx(l,{className:"flex shadow-md rounded-full transition-all duration-150 hover:shadow-none",to:(f=e.socialLink)==null?void 0:f.odnoklassniki,target:"_blank",children:s.jsx(h.odnoklassniki,{width:24,height:24})})]})]})}const V=u.memo(T);function X({user:e}){var f,w,k;const t=i(E),a=i(M),n=t==null?void 0:t.find(({id:m})=>{var c;return m===((c=e.student)==null?void 0:c.gradeId)}),o=a==null?void 0:a.find(({id:m})=>{var c;return m===((c=e.student)==null?void 0:c.motherId)}),r=a==null?void 0:a.find(({id:m})=>{var c;return m===((c=e.student)==null?void 0:c.fatherId)}),d=a==null?void 0:a.find(({id:m})=>m===(n==null?void 0:n.teacherId));return s.jsxs("section",{className:"box",children:[s.jsx("header",{className:"box__header",children:s.jsx("h2",{className:"title md:!text-lg",children:v[e.role]})}),s.jsxs("div",{className:"relative",children:[s.jsx(N,{className:"box__body",list:{Класс:n?s.jsxs(l,{className:"text-blue-600",to:p(j.Classes.Show,{id:n.id}),children:[n.level," ",n.group]}):"-",Мать:o?s.jsxs(l,{className:"text-blue-600",to:p(j.Users.Show,{id:o.id}),children:[o.surname," ",o.name]}):"-",Отец:r?s.jsxs(l,{className:"text-blue-600",to:p(j.Users.Show,{id:r.id}),children:[r.surname," ",r.name]}):"-",Руководитель:d?s.jsxs(l,{className:"text-blue-600",to:p(j.Users.Show,{id:d.id}),children:[d.surname," ",d.name]}):"-","С какого года ребенок обучается в ЧОУ «Империя знаний»":(f=e.student)!=null&&f.admissionDate?b(e.student.admissionDate).format("DD MMMM YYYY"):"-","Предыдущие школы":((w=e.student)==null?void 0:w.previousSchools)??"-","Медицинские и психологические рекомендации":((k=e.student)==null?void 0:k.medicalRecommendations)??"-"}}),s.jsx("div",{className:"absolute top-[1px] right-0 rounded-br-md z-10 min-w-6 h-[calc(100%-1px)] pointer-events-none bg-gradient-to-l from-white to-transparent"})]})]})}function me(){const e=y(),t=i(x),a=i(Y),n=i(G),o=i(R),r=i(C);return u.useEffect(()=>{a===g.Idle&&e(D()),n===g.Idle&&e($()),o===g.Idle&&e(I()),r===g.Idle&&e(L())},[e,n,o,r,a]),t?s.jsxs("main",{className:"pt-4 pb-40",children:[s.jsx(U,{}),s.jsx(P,{}),s.jsxs("div",{className:"flex flex-col gap-4 xl:grid xl:grid-cols-[3fr_1fr]",children:[s.jsxs("div",{className:"flex flex-col gap-4 grow",children:[s.jsx(F,{}),s.jsx(X,{user:t})]}),s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx(K,{}),s.jsx(Q,{}),s.jsx(V,{})]})]})]}):s.jsx(A,{className:"w-8 h-8 m-2"})}export{me as default};
