import{j as s,c as I,r as T,a as ee,u as z,i as P,v as se,n as ae,k as te,m as le,t as O,L as B,X as Y,A as W,S as ne,ag as ie,y as re}from"./main-C3zapZtd.js";import{g as oe,a as de}from"./users-selector-DxsZfUin.js";import{I as y}from"./icons-CmdP5zNp.js";import{S as H,a as ce,b as V,R as me}from"./users-DUqPc0QS.js";import{g as ue,a as ge}from"./grades-selector-DA-FmHwH.js";import{T as D}from"./text-field-DHbJqbGQ.js";import{e as he,f as fe}from"./users-CNoIoBis.js";import{S as M}from"./select-field-Bpw18Q_d.js";import{B as X}from"./button-k6U4pBlW.js";import{g as pe,a as xe}from"./nationalities-selector-B_j6XA9U.js";import{g as be,a as ye}from"./professions-selector-BBMQhaob.js";import{C as je}from"./copy-button-DQwFHibF.js";import{u as J}from"./use-dropdown-idH_Ahq5.js";import{f as K,u as Ne,g as ve,a as we,b as Ce,c as ke}from"./index-dlLad1ED.js";import"./preload-helper-BfFHrpNk.js";import"./index.browser-OxPLOBIU.js";import"./FileSaver.min-C2fw46AH.js";function Se({header:c,columnPinning:j,setColumnPinning:v,setColumnVisibility:F}){var n,r,k,L,$,R,e,a;const{ref:C,isOpen:w,setIsOpen:x,menuRef:g}=J(),u=async()=>{if(C.current&&g.current){await x(!w);const t=C.current.getBoundingClientRect();g.current.style.top=`${t.top+t.height+12}px`,g.current.style.left=`${t.left+t.width}px`;const l=g.current.getBoundingClientRect();l.right>window.innerWidth&&(g.current.style.transform=`translateX(-${l.right-window.innerWidth+32}px)`)}};return s.jsxs("div",{ref:C,className:"relative ml-auto column-filter",children:[s.jsx("button",{className:I("flex justify-center items-center min-w-6 min-h-6 rounded-full bg-gray-100 hover:bg-gray-200",(n=j.left)!=null&&n.includes(c.column.id)||(r=j.right)!=null&&r.includes(c.column.id)||c.column.getCanFilter()?"flex text-error":"md:hidden group-hover:flex"),onClick:u,children:s.jsx(y.moreVert,{width:3})}),s.jsxs("div",{ref:g,className:I("fixed top-full z-30 min-w-max flex-col py-1 bg-white rounded border shadow transform font-normal",w?"flex":"hidden"),onClick:t=>!t.target.closest(".column-filter-header")&&x(!1),children:[s.jsxs("div",{className:"flex flex-col column-filter-header px-3 py-1",children:[s.jsx("h3",{className:"text-sm leading-none text-gray-400 mb-1",children:K(c.column.columnDef.header,c.getContext())}),(L=(k=c.column.columnDef.meta)==null?void 0:k.renderFilter)==null?void 0:L.call(k,c.column,x)]}),s.jsx("hr",{className:"my-1"}),!(($=j.left)!=null&&$.includes(c.column.id))&&s.jsxs("button",{className:"flex items-center gap-2 pl-3 pr-4 py-1 transition-all duration-150 hover:bg-gray-100",type:"button",onClick:()=>v(t=>{var l;return{left:t.left&&(t.left.includes(c.column.id)?[...t.left]:[...t.left,c.column.id]),right:(l=t.right)==null?void 0:l.filter(o=>o!==c.column.id)}}),children:[s.jsx("span",{className:"flex items-center justify-center w-4 h-4",children:s.jsx(y.keep,{className:"transform rotate-[30deg]",width:10})}),"Закрепить слева"]}),!((R=j.right)!=null&&R.includes(c.column.id))&&s.jsxs("button",{className:"flex items-center gap-2 pl-3 pr-4 py-1 transition-all duration-150 hover:bg-gray-100",type:"button",onClick:()=>v(t=>{var l;return{left:(l=t.left)==null?void 0:l.filter(o=>o!==c.column.id),right:t.right&&(t.right.includes(c.column.id)?[...t.right]:[...t.right,c.column.id])}}),children:[s.jsx("span",{className:"flex items-center justify-center w-4 h-4",children:s.jsx(y.keep,{className:"transform -rotate-[30deg]",width:10})}),"Закрепить справа"]}),(((e=j.right)==null?void 0:e.includes(c.column.id))||((a=j.left)==null?void 0:a.includes(c.column.id)))&&s.jsxs("button",{className:"flex items-center gap-2 pl-3 pr-4 py-1 transition-all duration-150 hover:bg-gray-100",type:"button",onClick:()=>v(t=>{var l,o;return{left:(l=t.left)==null?void 0:l.filter(m=>m!==c.column.id),right:(o=t.right)==null?void 0:o.filter(m=>m!==c.column.id)}}),children:[s.jsx("span",{className:"flex items-center justify-center w-4 h-4",children:s.jsx(y.keep,{className:"opacity-0",width:10})}),"Открепить"]}),s.jsx("hr",{className:"my-1"}),s.jsxs("button",{className:"flex items-center gap-2 pl-3 pr-4 py-1 transition-all duration-150 hover:bg-gray-100",type:"button",onClick:()=>F(t=>({...t,[c.column.id]:!1})),children:[s.jsx("span",{className:"flex items-center justify-center w-4 h-4",children:s.jsx(y.visibilityOff,{width:16})}),"Скрыть столбец"]})]})]})}function Ie({table:c,columnVisibility:j,setColumnVisibility:v}){const{ref:F,isOpen:C,setIsOpen:w}=J(),x=c.getAllColumns().map(u=>({id:u.columnDef.id,header:u.columnDef.header})),g=u=>n=>{n.target.checked?v(r=>({...r,[u]:!0})):v(r=>({...r,[u]:!1}))};return s.jsxs("div",{ref:F,className:"relative z-30",children:[s.jsxs("button",{className:"flex items-center gap-2 h-7 px-1 text-blue-700",type:"button",onClick:()=>w(!C),children:[s.jsx(y.viewColumn,{width:16}),s.jsx("span",{className:"sr-only md:not-sr-only",children:"Столбцы"})]}),s.jsx("div",{className:I("absolute left-0 top-full bg-white py-1 border rounded shadow max-h-[240px] overflow-y-auto overflow-x-hidden styled-scrollbar",C?"visible opacity-100":"invisible opacity-0"),children:x.map(u=>s.jsxs("label",{className:"flex items-center gap-2 min-w-max pl-3 pr-5 h-8 transition-all duration-150 hover:bg-gray-100 cursor-pointer",children:[s.jsx("input",{type:"checkbox",onChange:g(u.id),checked:j[u.id]===void 0?!0:j[u.id]}),u.header]},u.id))})]})}const Fe=16,Ae=[],ze={},De={left:[],right:[]};function $e({data:c,columns:j,pageSize:v=Fe,sortingState:F=Ae,visibilityState:C=ze,columnPinningState:w=De,actions:x,onExport:g,searchValue:u,onSearchInput:n}){const[r,k]=T.useState(""),[L,$]=T.useState({pageIndex:0,pageSize:v}),[R,e]=T.useState(F),[a,t]=T.useState(C),[l,o]=T.useState(w),m=Ne({data:c,columns:j,defaultColumn:{maxSize:Number.MAX_SAFE_INTEGER,sortDescFirst:!1,enableSorting:!0,enableColumnFilter:!1},getCoreRowModel:ke(),getSortedRowModel:Ce(),getFilteredRowModel:we(),getPaginationRowModel:ve(),state:{sorting:R,globalFilter:r,columnVisibility:a,pagination:L,columnPinning:l},onSortingChange:e,onGlobalFilterChange:k,onColumnVisibilityChange:t,onPaginationChange:$,onColumnPinningChange:o}),p=m.getPageCount(),f=m.getState().pagination.pageIndex+1,Z=()=>{const d=[];if(p<=7)for(let h=1;h<=p;h++)d.push(h);else{d.push(1),f>4&&d.push("...");const h=Math.max(2,f-2),b=Math.min(p-1,f+2);for(let N=h;N<=b;N++)d.push(N);f<p-3&&d.push("..."),d.push(p)}return d},_=m.getHeaderGroups()[0].headers.map(d=>({id:d.column.id,size:d.getSize()})),U=d=>{if(l.left){const i=l.left.findIndex(b=>b===d);return i&&i<0?{}:{left:`${l.left.reduce((b,N,S)=>{var A;return S<i&&(b+=((A=_.find(E=>E.id===N))==null?void 0:A.size)||0),b},0)}px`}}return{}},G=d=>{if(l.right){const i=l.right.findIndex(b=>b===d);return i&&i<0?{}:{right:`${l.right.reduce((b,N,S)=>{var A;return S<i&&(b+=((A=_.find(E=>E.id===N))==null?void 0:A.size)||0),b},0)}px`}}return{}},q=d=>{const i=y[d==="desc"?"arrowDownwardAlt":"arrowUpwardAlt"];return s.jsx("span",{className:I("flex justify-center items-center min-w-6 min-h-6 rounded-full hover:bg-black/5",!d&&"hidden opacity-40 group-hover:flex"),children:s.jsx(i,{width:10})})},Q=d=>{n?n(d):k(d.target.value)};return s.jsxs("div",{className:"flex flex-col rounded-md shadow border bg-white overflow-scroll max-h-[calc(100vh-42px)] styled-scrollbar text-sm md:text-[16px] md:max-h-[calc(100vh-48px)]",children:[s.jsxs("div",{className:"sticky left-0 z-50 flex gap-2 p-1 border-b w-full",children:[s.jsx(Ie,{table:m,columnVisibility:a,setColumnVisibility:t}),s.jsxs("label",{className:"flex grow items-center gap-1 h-7 cursor-pointer text-blue-700",children:[s.jsx(y.search,{width:14}),s.jsx("input",{className:"flex cursor-pointer focus:cursor-auto grow min-w-none w-full focus:outline-none placeholder:text-inherit focus:placeholder:font-normal focus:placeholder:text-gray-400",type:"search",placeholder:"Искать",value:u||r,onInput:Q})]}),s.jsxs("div",{className:"flex gap-1",children:[g&&s.jsx(X,{className:"max-h-7",icon:"fileExport",variant:"light",onClick:()=>g(c,a),children:s.jsx("span",{className:"sr-only md:not-sr-only",children:"Экспорт"})}),x]})]}),s.jsx("div",{className:"sticky top-0 z-40 shadow min-w-max",children:m.getHeaderGroups().map(d=>s.jsxs("div",{className:"flex font-semibold min-h-7",children:[s.jsx("div",{className:"flex items-center justify-center px-1 min-w-8 max-w-8 bg-gray-100 md:px-2 md:min-w-10 md:max-w-10",children:"№"}),d.headers.map(i=>{var h,b,N,S,A;return s.jsxs("div",{className:I("flex items-center text-start bg-gray-100 cursor-pointer group border-gray-200 px-1 md:px-2",((h=l.left)==null?void 0:h.includes(i.column.id))&&"sticky z-10 border-r",((b=l.right)==null?void 0:b.includes(i.column.id))&&"sticky z-10 border-l",(N=i.column.columnDef.meta)==null?void 0:N.columnClass),onClick:E=>!E.target.closest(".column-filter")&&i.column.toggleSorting(),style:{minWidth:`${i.getSize()}px`,width:`${i.getSize()}px`,maxWidth:`${i.getSize()}px`,...U(i.column.id),...G(i.column.id)},children:[(S=i.column.columnDef.meta)!=null&&S.renderHeader?(A=i.column.columnDef.meta)==null?void 0:A.renderHeader(i.column):s.jsx("span",{className:"text-start truncate select-none",children:K(i.column.columnDef.header,i.getContext())}),i.column.getCanSort()&&q(i.column.getIsSorted()),s.jsx(Se,{header:i,columnPinning:l,setColumnPinning:o,setColumnVisibility:t})]},i.id)})]},d.id))}),s.jsx("div",{className:"min-w-max",children:m.getRowModel().rows.map((d,i)=>s.jsxs("div",{className:I("flex",i%2?"bg-gray-50":"bg-white"),children:[s.jsxs("div",{className:I("flex items-center justify-end p-1 min-w-8 max-w-8 md:p-2 md:min-w-10 md:max-w-10",i%2?"bg-gray-50":"bg-white"),children:[(f-1)*v+i+1,"."]}),d.getVisibleCells().map(h=>{var b,N,S;return s.jsx("div",{className:I("flex items-center p-1 md:p-2",i%2?"bg-gray-50":"bg-white",((b=l.left)==null?void 0:b.includes(h.column.id))&&"sticky left-0 z-10 border-r",((N=l.right)==null?void 0:N.includes(h.column.id))&&"sticky right-0 z-10 border-l",(S=h.column.columnDef.meta)==null?void 0:S.columnClass),style:{minWidth:`${h.column.getSize()}px`,width:`${h.column.getSize()}px`,maxWidth:`${h.column.getSize()}px`,...U(h.column.id),...G(h.column.id)},children:K(h.column.columnDef.cell,h.getContext())},JSON.stringify(h))})]},JSON.stringify(d.original)))}),s.jsx("div",{className:"sticky bottom-0 left-0 z-10 p-1 border-t bg-gray-100",children:s.jsxs("div",{className:"flex w-max ml-auto",children:[s.jsx("button",{className:"flex justify-center items-center h-7 w-7 border-transparent rounded-md border transform disabled:opacity-50 disabled:pointer-events-none",onClick:()=>m.previousPage(),disabled:!m.getCanPreviousPage(),children:s.jsx(y.previous,{width:7})}),Z().map((d,i)=>s.jsx("button",{className:I("flex justify-center items-center h-7 rounded-md border transform hover:font-bold",f===d?"w-10 bg-white border-gray-200 pointer-events-none":"w-8 border-transparent",d==="..."?"pointer-events-none":"disabled:opacity-50 disabled:pointer-events-none"),onClick:()=>typeof d=="number"&&m.setPageIndex(d-1),disabled:d==="...",children:d},i)),s.jsx("button",{className:"flex justify-center items-center h-7 w-7 border-transparent rounded-md border transform disabled:opacity-50 disabled:pointer-events-none",onClick:()=>m.nextPage(),disabled:!m.getCanNextPage(),children:s.jsx(y.next,{width:7})})]})})]})}function Je(){var $,R;const c=ee(),j=z(oe),v=z(ue),F=z(pe),C=z(be),w=z(de),x=z(ge),g=z(xe),u=z(ye),[n,r]=T.useState({});T.useEffect(()=>{j===P.Idle&&c(se()),v===P.Idle&&c(ae()),F===P.Idle&&c(te()),C===P.Idle&&c(le())},[c,v,F,C,j]);const k=(e,a)=>()=>{c(ie({id:e,dto:{blocked_at:null},onFail:re.error}))},L=[{id:"avatarThumb",accessorKey:"avatarThumb",header:"Фото",size:64,cell:({row:e})=>s.jsxs("span",{className:"relative z-0 flex min-w-12 max-w-12 min-h-12 max-h-12 rounded-full bg-gray-100 overflow-hidden",children:[e.original.avatarThumb&&s.jsx("img",{className:"absolute z-10 top-0 left-0 w-full h-full object-cover",src:e.original.avatarThumb,width:200,height:200,alt:e.original.name}),s.jsx(y.user,{className:"text-gray-300",width:48,height:48})]})},{id:"name",accessorKey:"name",header:"ФИО",size:240,cell:({row:e})=>s.jsxs(B,{className:"flex leading-none",to:Y(W.Users.Show,{id:e.original.id}),children:[e.original.surname," ",e.original.name," ",e.original.patronymic]}),enableColumnFilter:!!n.name,meta:{renderFilter:()=>s.jsx(D,{placeholder:"Искать...",value:n.name||"",onChange:e=>r(a=>({...a,name:e})),onInput:e=>r(a=>({...a,name:e.target.value}))})}},{id:"sex",accessorKey:"sex",header:"Пол",size:64,cell:({row:e})=>e.original.sex==="male"?s.jsx(y.male,{className:"flex text-blue-600",width:20,height:20}):s.jsx(y.female,{className:"flex text-pink-600",width:20,height:20}),enableColumnFilter:!!n.sex,meta:{renderFilter:()=>s.jsx(M,{placeholder:"--Выбрать--",options:[{value:"male",label:H.male},{value:"female",label:H.female}],value:n.sex||"",onChange:e=>r(a=>({...a,sex:e}))})}},{id:"grade",accessorKey:"grade",header:"Класс",size:80,cell:({row:e})=>{const a=x==null?void 0:x.find(({id:t})=>{var l;return t===((l=e.original.student)==null?void 0:l.gradeId)});if(a)return s.jsxs(B,{className:"flex w-max text-lg font-semibold",to:Y(W.Classes.Show,{id:a.id}),children:[a.level," ",a.group]})},sortingFn:(e,a)=>{var o,m;const t=((o=x==null?void 0:x.find(({id:p})=>{var f;return p===((f=e.original.student)==null?void 0:f.gradeId)}))==null?void 0:o.level.toString())||"",l=((m=x==null?void 0:x.find(({id:p})=>{var f;return p===((f=a.original.student)==null?void 0:f.gradeId)}))==null?void 0:m.level.toString())||"";return t.localeCompare(l)},enableColumnFilter:!!n.grade,meta:{renderFilter:()=>s.jsx(M,{placeholder:"--Выбрать--",options:(x||[]).map(e=>({value:e.id.toString(),label:`${e.level} ${e.group}`})),value:n.grade||"",onChange:e=>r(a=>({...a,grade:e}))})}},{id:"role",accessorKey:"role",header:"Позиция",size:130,cell:({row:e})=>s.jsx("span",{className:"flex max-w-max text-center bg-blue-200 text-primary rounded-full text-sm py-1 px-2 leading-none",children:V[e.original.role]}),enableColumnFilter:!!n.role,meta:{renderFilter:()=>s.jsx(M,{placeholder:"--Выбрать--",options:ce.map(e=>({value:e,label:V[e]})),value:n.role||"",onChange:e=>r(a=>({...a,role:e}))})}},{id:"phoneNumbers",accessorKey:"phoneNumbers",header:"Телефоны",size:140,cell:({row:e})=>{var a;return e.original.phoneNumbers&&s.jsx("div",{className:"flex flex-col",children:(a=e.original.phoneNumbers)==null?void 0:a.map(t=>s.jsxs("a",{className:"font-medium min-w-max",href:`tel:+${t.code}${t.numbers}`,children:["+",`${t.code} ${t.numbers}`]},t.numbers))})},enableColumnFilter:!!n.phone,meta:{renderFilter:()=>s.jsx(D,{placeholder:"Искать...",value:n.phone||"",onInput:e=>r(a=>({...a,phone:e.target.value})),onChange:e=>r(a=>({...a,phone:e}))})}},{id:"whatsapp",accessorKey:"whatsapp",header:"WhatsApp",size:140,cell:({row:e})=>e.original.whatsapp&&s.jsx("div",{className:"flex flex-col",children:s.jsxs("a",{className:"font-medium min-w-max",href:`https://wa.me/+${e.original.whatsapp.code}${e.original.whatsapp.numbers}`,target:"_blank",children:["+",`${e.original.whatsapp.code} ${e.original.whatsapp.numbers}`]},e.original.whatsapp.numbers)}),enableColumnFilter:!!n.whatsapp,meta:{renderFilter:()=>s.jsx(D,{placeholder:"Искать...",value:n.whatsapp||"",onInput:e=>r(a=>({...a,whatsapp:e.target.value})),onChange:e=>r(a=>({...a,whatsapp:e}))})}},{id:"email",accessorKey:"email",header:"Электронная почта",size:180,cell:({row:e})=>e.original.email&&s.jsx("a",{className:"text-blue-500 font-normal",href:`mailto:${e.original.email}`,children:e.original.email}),enableColumnFilter:!!n.email,meta:{renderFilter:()=>s.jsx(D,{placeholder:"Искать...",value:n.email||"",onInput:e=>r(a=>({...a,email:e.target.value})),onChange:e=>r(a=>({...a,email:e}))})}},{id:"login",accessorKey:"login",header:"Логин",size:220,enableColumnFilter:!!n.login,meta:{renderFilter:()=>s.jsx(D,{placeholder:"Искать...",value:n.login||"",onInput:e=>r(a=>({...a,login:e.target.value})),onChange:e=>r(a=>({...a,login:e}))})}},{id:"password",accessorKey:"password",header:"Пароль",size:220,enableColumnFilter:!!n.password,cell:({row:e})=>s.jsx(je,{string:e.original.password??"",children:"Скопировать"}),meta:{renderFilter:()=>s.jsx(D,{value:n.password||"",onInput:e=>r(a=>({...a,password:e.target.value})),onChange:e=>r(a=>({...a,password:e}))})}},{id:"birthDate",accessorKey:"birthDate",header:"Дата рождения",size:140,cell:({row:e})=>e.original.birthDate&&O(e.original.birthDate).format("DD MMM YYYY")},{id:"address",accessorKey:"address",header:"Адрес",size:280,enableColumnFilter:!!(($=n.address)!=null&&$.physicalAddress||(R=n.address)!=null&&R.region),cell:({row:e})=>e.original.address&&s.jsxs("div",{className:"leading-[1.1]",children:[e.original.address.region!=="За пределами города"&&"район ",e.original.address.region,", ",e.original.address.physicalAddress]}),sortingFn:(e,a)=>{const t=e.original.address?`${e.original.address.region}, ${e.original.address.physicalAddress}`:"",l=a.original.address?`${a.original.address.region}, ${a.original.address.physicalAddress}`:"";return t.localeCompare(l)},meta:{renderFilter:()=>{var e,a;return s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(D,{placeholder:"Искать...",value:((e=n.address)==null?void 0:e.physicalAddress)||"",onInput:t=>r(l=>{var o;return{...l,address:{physicalAddress:t.target.value,region:((o=l.address)==null?void 0:o.region)||""}}}),onChange:t=>r(l=>{var o;return{...l,address:{physicalAddress:t,region:((o=l.address)==null?void 0:o.region)||""}}})}),s.jsx(M,{placeholder:"--Район--",options:me.map(t=>({value:t,label:t})),value:((a=n.address)==null?void 0:a.region)||"",onChange:t=>r(l=>{var o;return{...l,address:{physicalAddress:((o=l.address)==null?void 0:o.physicalAddress)||"",region:t}}})})]})}}},{id:"nationality",accessorKey:"nationality",header:"Национальность",size:160,enableColumnFilter:!!n.nationality,cell:({row:e})=>{var a;return(a=g==null?void 0:g.find(t=>t.id===e.original.nationalityId))==null?void 0:a.name},sortingFn:(e,a)=>{var o,m;const t=((o=g==null?void 0:g.find(({id:p})=>p===e.original.nationalityId))==null?void 0:o.name)||"",l=((m=g==null?void 0:g.find(({id:p})=>p===a.original.nationalityId))==null?void 0:m.name)||"";return t.localeCompare(l)},meta:{renderFilter:()=>s.jsx(M,{placeholder:"--Выбрать--",options:(g||[]).map(e=>({value:e.id.toString(),label:e.name})),value:n.nationality||"",onChange:e=>r(a=>({...a,nationality:e}))})}},{id:"profession",accessorKey:"profession",header:"Сфера деятельности",size:200,enableColumnFilter:!!n.professionId,cell:({row:e})=>{var a,t;return u&&((a=e.original.parent)==null?void 0:a.professionId)&&((t=u.find(({id:l})=>{var o;return l===((o=e.original.parent)==null?void 0:o.professionId)}))==null?void 0:t.name)},sortingFn:(e,a)=>{var o,m;const t=((o=u==null?void 0:u.find(({id:p})=>{var f;return p===((f=e.original.parent)==null?void 0:f.professionId)}))==null?void 0:o.name)||"",l=((m=u==null?void 0:u.find(({id:p})=>{var f;return p===((f=a.original.parent)==null?void 0:f.professionId)}))==null?void 0:m.name)||"";return t.localeCompare(l)},meta:{renderFilter:()=>s.jsx("div",{className:"flex flex-col gap-2",children:s.jsx(M,{options:(u||[]).map(e=>({value:e.id.toString(),label:e.name})),value:n.professionId||"",onChange:e=>r(a=>({...a,professionId:e}))})})}},{id:"blockedAt",accessorKey:"blockedAt",header:"Блокировка",size:160,cell:({row:e})=>e.original.blockedAt?s.jsxs("div",{className:"flex flex-col",children:[s.jsx(X,{className:"mb-1",variant:"danger",onClick:k(e.original.id),children:"Разблокировать"}),s.jsxs("span",{className:"flex text-sm leading-none text-danger",children:["Заблокирован с ",s.jsx("br",{})," ",O(e.original.blockedAt).format("DD MMMM YYYY HH:mm")]})]}):null},{id:"talents",accessorKey:"talents",header:"Таланты",size:200,enableColumnFilter:!!n.talents,cell:({row:e})=>{var a;return(a=e.original.student)==null?void 0:a.talents},meta:{renderFilter:()=>s.jsx("div",{className:"flex flex-col gap-2",children:s.jsx(D,{placeholder:"Искать...",value:n.talents||"",onInput:e=>r(a=>({...a,talents:e.target.value})),onChange:e=>r(a=>({...a,talents:e}))})})}},{id:"socialLinks",accessorKey:"socialLinks",header:"Социальные сети",size:148,cell:({row:e})=>{var a,t,l,o,m,p,f;return s.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[((a=e.original.socialLink)==null?void 0:a.facebook)&&s.jsx("a",{className:"flex shadow-md rounded-full transition-all duration-150 hover:shadow-none",href:e.original.socialLink.facebook,target:"_blank",children:s.jsx(y.facebook,{width:24,height:24})}),((t=e.original.socialLink)==null?void 0:t.instagram)&&s.jsx("a",{className:"flex shadow-md rounded-full transition-all duration-150 hover:shadow-none",href:(l=e.original.socialLink)==null?void 0:l.instagram,target:"_blank",children:s.jsx(y.instagram,{width:24,height:24})}),((o=e.original.socialLink)==null?void 0:o.telegram)&&s.jsx("a",{className:"flex shadow-md rounded-full transition-all duration-150 hover:shadow-none",href:(m=e.original.socialLink)==null?void 0:m.telegram,target:"_blank",children:s.jsx(y.telegram,{width:24,height:24})}),((p=e.original.socialLink)==null?void 0:p.odnoklassniki)&&s.jsx("a",{className:"flex shadow-md rounded-full transition-all duration-150 hover:shadow-none",href:(f=e.original.socialLink)==null?void 0:f.odnoklassniki,target:"_blank",children:s.jsx(y.odnoklassniki,{width:24,height:24})})]})}}];return s.jsxs("main",{className:"flex flex-col gap-y-1 py-2",children:[s.jsxs("h1",{className:"title",children:["Пользователи (",w==null?void 0:w.length,")"]}),w?s.jsx($e,{data:fe(w,n),columns:L,searchValue:n.name,onSearchInput:e=>r(a=>({...a,name:e.target.value})),sortingState:[{id:"name",desc:!1}],onExport:(e,a)=>he(e,a,{grades:x,nationalities:g,professions:u})}):s.jsx(ne,{className:"w-8 h-8"})]})}export{Je as default};
