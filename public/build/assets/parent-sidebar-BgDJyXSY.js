import{u as m,a as u,r,D as d,j as s,c as t,K as x,A as h,E as f,a3 as j}from"./main-D1X-5qeh.js";import{I as l}from"./icons-Cwm3zsc5.js";import{A as g}from"./app-logo-CQYB2c9W.js";import{g as N}from"./users-selector-Cpbhop2B.js";import"./preload-helper-DPi8upcZ.js";function y(){var c;const i=m(),a=u(N),[o,n]=r.useState(!1);return r.useEffect(()=>{!a.data&&!a.isFetching&&i(d())},[i,a.data,a.isFetching]),s.jsxs(s.Fragment,{children:[s.jsxs("aside",{className:t("fixed left-0 top-0 z-[100] flex flex-row-reverse h-screen transition-all duration-150 transform",o?"translate-x-0":"translate-x-[calc(-100%+10px)]"),onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[s.jsx("button",{className:t("text-gray-500 cursor-context-menu transition-all duration-150",o&&"invisible opacity-0"),type:"button",children:s.jsx(l.menuArrowOpen,{width:10})}),s.jsxs("nav",{className:"flex flex-col min-w-52 h-full bg-white border-r shadow",children:[s.jsx(g,{className:"m-1 p-2",imgClass:"h-9 w-auto"}),s.jsx("hr",{}),s.jsx("ul",{className:"flex flex-col p-1 gap-1",children:s.jsx("li",{children:s.jsxs(x,{className:({isActive:e})=>t("navlink",e&&"navlink--active"),to:h.Auth.Profile,children:[s.jsx(l.accountCircle,{className:"navlink__icon",width:16,height:16}),"Профиль"]})})}),s.jsx("h2",{className:"text-sm text-gray-400 pl-4",children:"Дети"}),s.jsx("ul",{className:"flex flex-col p-1 gap-1",children:(c=a.data)==null?void 0:c.filter(({role:e})=>e==="student").map(e=>s.jsx("li",{children:s.jsxs(x,{className:({isActive:p})=>t("navlink",p&&"navlink--active"),to:f(h.Users.Show,{id:e.id}),onClick:()=>n(!1),children:[s.jsx(l.accountCircle,{className:"navlink__icon",width:16,height:16}),e.surname," ",e.name]})},e.id))}),s.jsx("hr",{className:"mt-auto"}),s.jsx("ul",{className:"flex flex-col p-1 gap-1",children:s.jsx("li",{children:s.jsxs("button",{className:"navlink",type:"button",onClick:()=>i(j()),children:[s.jsx(l.logout,{className:"navlink__icon",width:16,height:16}),"Выйти"]})})})]})]}),s.jsx("button",{className:t("fixed left-0 top-0 z-[90] w-screen h-screen transition-all duration-150 bg-black/10 backdrop-blur-[2px]",o?"pointer-events-auto opacity-100":"pointer-events-none opacity-0"),type:"button",onClick:()=>n(!1)})]})}export{y as default};
