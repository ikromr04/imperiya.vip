const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/users-edit-form-CTQ58Qu-.js","assets/main-yWuhb5Gt.js","assets/preload-helper-BfFHrpNk.js","assets/main-DNTo822Q.css","assets/button-BKPH64SX.js","assets/icons-CK1IQmfH.js","assets/select-field-RirYMWTT.js","assets/cleanable-DQsDMRP2.js","assets/formik.esm-BRAvGE8Y.js","assets/use-dropdown-D2SgKNhE.js","assets/index.browser-OxPLOBIU.js","assets/text-field-DEwqXaiJ.js","assets/index.esm-DO-o8iAu.js","assets/users-DUqPc0QS.js","assets/nationalities-selector-DGp9RYBS.js","assets/password-field-CB8RzY78.js","assets/index-CYT10vT5.js","assets/users-delete-form-CoNak0iL.js","assets/users-selector-D5J-7fb-.js","assets/users-DVSb9rHt.js","assets/FileSaver.min-P9aWVRN6.js","assets/reasons-selector-DQyAIHnE.js","assets/users-phone-edit-form-CjHfBlf3.js","assets/users-social-links-edit-form-D80YRAJR.js","assets/superadmin-info-CpaG-4lp.js","assets/description-list-MiWBkjCF.js","assets/admin-info-CpaG-4lp.js","assets/director-info-B4bIvTaM.js","assets/teacher-info-CEThxxRl.js","assets/modal-6Vkj86FB.js","assets/tooltip-DbNLO3NU.js","assets/grades-selector-B6pCE8aG.js","assets/parent-info-BUKIoNye.js","assets/professions-selector-9VNGCm2J.js","assets/student-info-C764XUjm.js"])))=>i.map(i=>d[i]);
import{u as p,r as t,j as s,t as N,L as m,S as x,c as k,f as v,a as S,i as _,v as I,k as y,n as E,A as D}from"./main-yWuhb5Gt.js";import{_ as c}from"./preload-helper-BfFHrpNk.js";import{I as r}from"./icons-CK1IQmfH.js";import{B as h}from"./button-BKPH64SX.js";import{C as L}from"./copy-button-B1G_5agl.js";import{D as w}from"./description-list-MiWBkjCF.js";import{M as j}from"./modal-6Vkj86FB.js";import{T as g}from"./tooltip-DbNLO3NU.js";import{S as A,b as $}from"./users-DUqPc0QS.js";import{a as O,g as P}from"./nationalities-selector-DGp9RYBS.js";import{B as R}from"./breadcrumbs-DA-Ti6wZ.js";import{g as T,a as z}from"./users-selector-D5J-7fb-.js";import{g as M}from"./grades-selector-B6pCE8aG.js";import{H as V,N as F}from"./navigation-_VD5rInp.js";import U from"./not-found-page-BfAFMu2t.js";import"./users-DVSb9rHt.js";import"./FileSaver.min-P9aWVRN6.js";import"./use-dropdown-D2SgKNhE.js";function Y({user:e}){var i;const a=p(O);return((i=a==null?void 0:a.find(({id:o})=>o===(e==null?void 0:e.nationalityId)))==null?void 0:i.name)||"-"}const B=t.lazy(()=>c(()=>import("./users-edit-form-CTQ58Qu-.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16])));function C({user:e}){const[a,i]=t.useState(!1),o=t.useMemo(()=>({Фамилия:e.surname,Имя:e.name,Отчество:e.patronymic??"-",Логин:e.login,Пароль:e.password?s.jsx(L,{className:"items-baseline font-normal text-[16px] h-auto !p-0 shadow-none",string:e.password,children:"Скопировать"}):"-",Позиция:$[e.role],Пол:A[e.sex],"Электронная почта":e.email?s.jsx(m,{className:"text-blue-600",to:`mailto:${e.email}`,children:e.email}):"-","Дата рождения":e.birthDate?N(e.birthDate).format("DD MMMM YYYY"):"-",Адрес:e.address?`${e.address.region!=="За пределами города"?"район ":""}${e.address.region}, ${e.address.physicalAddress}`:"-",Национальность:s.jsx(Y,{user:e}),WhatsApp:e.whatsapp?s.jsxs("a",{className:"text-blue-600",href:`https://wa.me/+${e.whatsapp.code}${e.whatsapp.numbers}`,target:"_blank",rel:"noopener noreferrer",children:["+",e.whatsapp.code," ",e.whatsapp.numbers]}):"-"}),[e]);return s.jsxs(s.Fragment,{children:[s.jsxs("section",{className:"box",children:[s.jsxs("header",{className:"box__header",children:[s.jsx("h2",{className:"title md:!text-lg",children:"Базовая информация"}),s.jsxs(h,{variant:"light",onClick:()=>i(!0),children:[s.jsx(r.edit,{width:14,height:14}),s.jsx(g,{label:"Редактировать",position:"left"})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(w,{className:"box__body",list:o}),s.jsx("div",{className:"absolute top-[1px] right-0 rounded-br-md z-10 min-w-6 h-[calc(100%-1px)] pointer-events-none bg-gradient-to-l from-white to-transparent"})]})]}),a&&s.jsx(j,{isOpen:a,children:s.jsx(t.Suspense,{fallback:s.jsx(x,{className:"w-10 h-10"}),children:s.jsx(B,{user:e,setIsOpen:i})})})]})}const G=t.memo(C),H=t.lazy(()=>c(()=>import("./users-delete-form-CoNak0iL.js"),__vite__mapDeps([17,1,2,3,12,4,5,18,19,20,13,8,6,7,9,10,21])));function W({user:e}){const[a,i]=t.useState(!1);return s.jsxs(s.Fragment,{children:[s.jsxs(h,{variant:"danger",onClick:()=>i(!0),children:[s.jsx(r.delete,{width:14,height:14}),"Удалить пользователья"]}),a&&s.jsx(j,{isOpen:a,children:s.jsx(t.Suspense,{fallback:s.jsx(x,{className:"w-8 h-8"}),children:s.jsx(H,{user:e,setIsOpen:i},a.toString())})})]})}function q({user:e}){var a,i;return s.jsxs("section",{className:"box",children:[s.jsxs("div",{className:"box__header flex-col !items-start",children:[s.jsxs(h,{className:"flex items-center gap-2 text-blue-600 leading-none",variant:"default",href:e.email?`mailto:${e.email}`:"",children:[s.jsx("span",{className:"flex items-center justify-center w-7 h-7 rounded bg-blue-50 text-success",children:s.jsx(r.mail,{width:16,height:16})}),e.email??"-"]}),s.jsxs(h,{className:k("flex items-center gap-2 text-blue-600 leading-none",!e.whatsapp&&"pointer-events-none"),variant:"default",href:`https://wa.me/+${(a=e.whatsapp)==null?void 0:a.code}${(i=e.whatsapp)==null?void 0:i.numbers}`,target:"_blank",children:[s.jsx("span",{className:"flex items-center justify-center w-7 h-7 rounded bg-blue-50 text-success",children:s.jsx(r.whatsapp,{width:16,height:16})}),e.whatsapp?`+${e.whatsapp.code} ${e.whatsapp.numbers}`:"-"]})]}),s.jsx(w,{className:"box__body",variant:"detailed",list:{"Дата регистрации":N(e.createdAt).format("DD MMMM YYYY")}})]})}const J=t.memo(q),K=t.lazy(()=>c(()=>import("./users-phone-edit-form-CjHfBlf3.js"),__vite__mapDeps([22,1,2,3,5,4,11,7,8,10,12])));function Q({user:e}){var o;const[a,i]=t.useState(!1);return s.jsxs(s.Fragment,{children:[s.jsxs("section",{className:"box",children:[s.jsxs("header",{className:"box__header",children:[s.jsx("h2",{className:"font-medium text-gray-900",children:"Телефонные номера"}),s.jsxs(h,{variant:"light",onClick:()=>i(!0),children:[s.jsx(r.edit,{width:14,height:14}),s.jsx(g,{label:"Редактировать",position:"left"})]})]}),s.jsx("ul",{className:"box__body flex flex-col gap-2",children:(o=e.phoneNumbers)==null?void 0:o.map(({code:d,numbers:l})=>s.jsx("li",{children:s.jsxs(m,{className:"flex items-center gap-2 w-max text-blue-600",to:`tel:+${d}${l}`,children:[s.jsx("span",{className:"flex items-center w-7 h-7 justify-center bg-blue-50 rounded text-success",children:s.jsx(r.phone,{width:16,height:16})}),"+",d," ",l]})},l))})]}),a&&s.jsx(j,{isOpen:a,children:s.jsx(t.Suspense,{fallback:s.jsx(x,{className:"w-6 h-6"}),children:s.jsx(K,{user:e,setIsOpen:i},a.toString())})})]})}const X=t.memo(Q),Z=t.lazy(()=>c(()=>import("./users-social-links-edit-form-D80YRAJR.js"),__vite__mapDeps([23,1,2,3,4,5,11,7,8,10])));function ss({user:e}){var o,d,l,n,f,u,b;const[a,i]=t.useState(!1);return s.jsxs(s.Fragment,{children:[s.jsxs("section",{className:"box",children:[s.jsxs("header",{className:"box__header",children:[s.jsx("h2",{className:"font-medium text-gray-900",children:"Социальные сети"}),s.jsxs(h,{variant:"light",onClick:()=>i(!0),children:[s.jsx(r.edit,{width:14,height:14}),s.jsx(g,{label:"Редактировать",position:"left"})]})]}),s.jsxs("div",{className:"box__body flex flex-wrap gap-2",children:[((o=e.socialLink)==null?void 0:o.facebook)&&s.jsx(m,{className:"flex shadow-md rounded-full transition-all duration-150 hover:shadow-none",to:e.socialLink.facebook,target:"_blank",children:s.jsx(r.facebook,{width:24,height:24})}),((d=e.socialLink)==null?void 0:d.instagram)&&s.jsx(m,{className:"flex shadow-md rounded-full transition-all duration-150 hover:shadow-none",to:(l=e.socialLink)==null?void 0:l.instagram,target:"_blank",children:s.jsx(r.instagram,{width:24,height:24})}),((n=e.socialLink)==null?void 0:n.telegram)&&s.jsx(m,{className:"flex shadow-md rounded-full transition-all duration-150 hover:shadow-none",to:(f=e.socialLink)==null?void 0:f.telegram,target:"_blank",children:s.jsx(r.telegram,{width:24,height:24})}),((u=e.socialLink)==null?void 0:u.odnoklassniki)&&s.jsx(m,{className:"flex shadow-md rounded-full transition-all duration-150 hover:shadow-none",to:(b=e.socialLink)==null?void 0:b.odnoklassniki,target:"_blank",children:s.jsx(r.odnoklassniki,{width:24,height:24})})]})]}),a&&s.jsx(j,{isOpen:a,children:s.jsx(t.Suspense,{fallback:s.jsx(x,{className:"w-6 h-6"}),children:s.jsx(Z,{user:e,setIsOpen:i},a.toString())})})]})}const es=t.memo(ss),as=t.lazy(()=>c(()=>import("./superadmin-info-CpaG-4lp.js"),__vite__mapDeps([24,1,2,3,25,13]))),ts=t.lazy(()=>c(()=>import("./admin-info-CpaG-4lp.js"),__vite__mapDeps([26,1,2,3,25,13]))),is=t.lazy(()=>c(()=>import("./director-info-B4bIvTaM.js"),__vite__mapDeps([27,1,2,3,25,13]))),ns=t.lazy(()=>c(()=>import("./teacher-info-CEThxxRl.js"),__vite__mapDeps([28,2,1,3,5,4,25,29,30,13,31]))),os=t.lazy(()=>c(()=>import("./parent-info-BUKIoNye.js"),__vite__mapDeps([32,2,1,3,5,4,25,29,30,13,33,18]))),ls=t.lazy(()=>c(()=>import("./student-info-C764XUjm.js"),__vite__mapDeps([34,2,1,3,5,4,25,29,30,13,31,18]))),rs={superadmin:as,admin:ts,director:is,teacher:ns,parent:os,student:ls};function cs({user:e}){const a=rs[e.role];return s.jsx(t.Suspense,{fallback:s.jsx(x,{className:"w-10 h-10"}),children:s.jsx(a,{user:e})})}function Es(){const e=v(),a=S(),i=p(T),o=p(P),d=p(M),l=p(z),n=(l==null?void 0:l.find(f=>f.id===+(e.id||0)))||null;return t.useEffect(()=>{i===_.Idle&&a(I()),o===_.Idle&&a(y()),d===_.Idle&&a(E())},[a,d,o,i]),l?n?s.jsxs("main",{className:"pt-2 pb-40",children:[s.jsx(R,{className:"mb-4",items:[["Справочник пользователей",D.Users.Index],[`${n.name} ${n.surname}`,""]]}),s.jsx(V,{users:l,user:n}),s.jsx(F,{user:n}),s.jsxs("div",{className:"flex flex-col gap-4 xl:grid xl:grid-cols-[3fr_1fr]",children:[s.jsxs("div",{className:"flex flex-col gap-4 grow",children:[s.jsx(G,{user:n}),s.jsx(cs,{user:n})]}),s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx(J,{user:n}),s.jsx(X,{user:n}),s.jsx(es,{user:n}),s.jsx("div",{className:"ml-auto",children:s.jsx(W,{user:n})})]})]})]}):s.jsx(U,{}):s.jsx(x,{className:"w-8 h-8 m-2"})}export{Es as default};
