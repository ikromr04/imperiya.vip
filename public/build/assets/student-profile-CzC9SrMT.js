import{u as i,g as x,r as u,j as s,t as b,L as l,c as y,X as p,A as j,a as D,i as g,v as $,n as I,k as L,m as A,S as M}from"./main-C3zapZtd.js";import{a as Y,g as U}from"./users-selector-DxsZfUin.js";import{H as P,N as B}from"./navigation-D_QojTyi.js";import{a as R,g as C}from"./nationalities-selector-B_j6XA9U.js";import{g as E}from"./professions-selector-BBMQhaob.js";import{a as G,g as z}from"./grades-selector-DA-FmHwH.js";import{C as H}from"./copy-button-DQwFHibF.js";import{D as N}from"./description-list-BMrUDRmA.js";import{S as W,b as S}from"./users-DUqPc0QS.js";import{I as h}from"./icons-CmdP5zNp.js";import{B as v}from"./button-k6U4pBlW.js";import"./preload-helper-BfFHrpNk.js";function X(){var a;const e=i(x),t=i(R);return((a=t==null?void 0:t.find(({id:n})=>n===(e==null?void 0:e.nationalityId)))==null?void 0:a.name)||"-"}function q(){const e=i(x),t=u.useMemo(()=>e?{Фамилия:e.surname,Имя:e.name,Отчество:e.patronymic??"-",Логин:e.login,Пароль:e.password?s.jsx(H,{className:"items-baseline font-normal text-[16px] h-auto !p-0 shadow-none",string:e.password,children:"Скопировать"}):"-",Позиция:S[e.role],Пол:W[e.sex],"Электронная почта":e.email?s.jsx(l,{className:"text-blue-600",to:`mailto:${e.email}`,children:e.email}):"-","Дата рождения":e.birthDate?b(e.birthDate).format("DD MMMM YYYY"):"-",Адрес:e.address?`${e.address.region!=="За пределами города"?"район ":""}${e.address.region}, ${e.address.physicalAddress}`:"-",Национальность:s.jsx(X,{}),WhatsApp:e.whatsapp?s.jsxs("a",{className:"text-blue-600",href:`https://wa.me/+${e.whatsapp.code}${e.whatsapp.numbers}`,target:"_blank",rel:"noopener noreferrer",children:["+",e.whatsapp.code," ",e.whatsapp.numbers]}):"-"}:{},[e]);if(e)return s.jsxs("section",{className:"box",children:[s.jsx("header",{className:"box__header",children:s.jsx("h2",{className:"title md:!text-lg",children:"Базовая информация"})}),s.jsxs("div",{className:"relative",children:[s.jsx(N,{className:"box__body",list:t}),s.jsx("div",{className:"absolute top-[1px] right-0 rounded-br-md z-10 min-w-6 h-[calc(100%-1px)] pointer-events-none bg-gradient-to-l from-white to-transparent"})]})]})}const F=u.memo(q);function J(){var t,a;const e=i(x);if(e)return s.jsxs("section",{className:"box",children:[s.jsxs("div",{className:"box__header flex-col !items-start",children:[s.jsxs(v,{className:"flex items-center gap-2 text-blue-600 leading-none",variant:"default",href:e.email?`mailto:${e.email}`:"",children:[s.jsx("span",{className:"flex items-center justify-center w-7 h-7 rounded bg-blue-50 text-success",children:s.jsx(h.mail,{width:16,height:16})}),e.email??"-"]}),s.jsxs(v,{className:y("flex items-center gap-2 text-blue-600 leading-none",!e.whatsapp&&"pointer-events-none"),variant:"default",href:`https://wa.me/+${(t=e.whatsapp)==null?void 0:t.code}${(a=e.whatsapp)==null?void 0:a.numbers}`,target:"_blank",children:[s.jsx("span",{className:"flex items-center justify-center w-7 h-7 rounded bg-blue-50 text-success",children:s.jsx(h.whatsapp,{width:16,height:16})}),e.whatsapp?`+${e.whatsapp.code} ${e.whatsapp.numbers}`:"-"]})]}),s.jsx(N,{className:"box__body",variant:"detailed",list:{"Дата регистрации":b(e.createdAt).format("DD MMMM YYYY")}})]})}const K=u.memo(J);function O(){var t;const e=i(x);if(e)return s.jsxs("section",{className:"box",children:[s.jsx("header",{className:"box__header",children:s.jsx("h2",{className:"font-medium text-gray-900",children:"Телефонные номера"})}),s.jsx("ul",{className:"box__body flex flex-col gap-2",children:(t=e.phoneNumbers)==null?void 0:t.map(({code:a,numbers:n})=>s.jsx("li",{children:s.jsxs(l,{className:"flex items-center gap-2 w-max text-blue-600",to:`tel:+${a}${n}`,children:[s.jsx("span",{className:"flex items-center w-7 h-7 justify-center bg-blue-50 rounded text-success",children:s.jsx(h.phone,{width:16,height:16})}),"+",a," ",n]})},n))})]})}const Q=u.memo(O);function T(){var t,a,n,o,r,d,f;const e=i(x);if(e)return s.jsxs("section",{className:"box",children:[s.jsx("header",{className:"box__header",children:s.jsx("h2",{className:"font-medium text-gray-900",children:"Социальные сети"})}),s.jsxs("div",{className:"box__body flex flex-wrap gap-2",children:[((t=e.socialLink)==null?void 0:t.facebook)&&s.jsx(l,{className:"flex shadow-md rounded-full transition-all duration-150 hover:shadow-none",to:e.socialLink.facebook,target:"_blank",children:s.jsx(h.facebook,{width:24,height:24})}),((a=e.socialLink)==null?void 0:a.instagram)&&s.jsx(l,{className:"flex shadow-md rounded-full transition-all duration-150 hover:shadow-none",to:(n=e.socialLink)==null?void 0:n.instagram,target:"_blank",children:s.jsx(h.instagram,{width:24,height:24})}),((o=e.socialLink)==null?void 0:o.telegram)&&s.jsx(l,{className:"flex shadow-md rounded-full transition-all duration-150 hover:shadow-none",to:(r=e.socialLink)==null?void 0:r.telegram,target:"_blank",children:s.jsx(h.telegram,{width:24,height:24})}),((d=e.socialLink)==null?void 0:d.odnoklassniki)&&s.jsx(l,{className:"flex shadow-md rounded-full transition-all duration-150 hover:shadow-none",to:(f=e.socialLink)==null?void 0:f.odnoklassniki,target:"_blank",children:s.jsx(h.odnoklassniki,{width:24,height:24})})]})]})}const V=u.memo(T);function Z({user:e}){var f,w,k,_;const t=i(G),a=i(Y),n=t==null?void 0:t.find(({id:m})=>{var c;return m===((c=e.student)==null?void 0:c.gradeId)}),o=a==null?void 0:a.find(({id:m})=>{var c;return m===((c=e.student)==null?void 0:c.motherId)}),r=a==null?void 0:a.find(({id:m})=>{var c;return m===((c=e.student)==null?void 0:c.fatherId)}),d=a==null?void 0:a.find(({id:m})=>m===(n==null?void 0:n.teacherId));return s.jsxs("section",{className:"box",children:[s.jsx("header",{className:"box__header",children:s.jsx("h2",{className:"title md:!text-lg",children:S[e.role]})}),s.jsxs("div",{className:"relative",children:[s.jsx(N,{className:"box__body",list:{Класс:n?s.jsxs(l,{className:"text-blue-600",to:p(j.Classes.Show,{id:n.id}),children:[n.level," ",n.group]}):"-",Мать:o?s.jsxs(l,{className:"text-blue-600",to:p(j.Users.Show,{id:o.id}),children:[o.surname," ",o.name]}):"-",Отец:r?s.jsxs(l,{className:"text-blue-600",to:p(j.Users.Show,{id:r.id}),children:[r.surname," ",r.name]}):"-",Руководитель:d?s.jsxs(l,{className:"text-blue-600",to:p(j.Users.Show,{id:d.id}),children:[d.surname," ",d.name]}):"-","С какого года ребенок обучается в ЧОУ «Империя знаний»":(f=e.student)!=null&&f.admissionDate?b(e.student.admissionDate).format("DD MMMM YYYY"):"-","Предыдущие школы":((w=e.student)==null?void 0:w.previousSchools)??"-","Медицинские и психологические рекомендации":((k=e.student)==null?void 0:k.medicalRecommendations)??"-",Таланты:((_=e.student)==null?void 0:_.talents)??"-"}}),s.jsx("div",{className:"absolute top-[1px] right-0 rounded-br-md z-10 min-w-6 h-[calc(100%-1px)] pointer-events-none bg-gradient-to-l from-white to-transparent"})]})]})}function he(){const e=D(),t=i(x),a=i(U),n=i(z),o=i(C),r=i(E);return u.useEffect(()=>{a===g.Idle&&e($()),n===g.Idle&&e(I()),o===g.Idle&&e(L()),r===g.Idle&&e(A())},[e,n,o,r,a]),t?s.jsxs("main",{className:"pt-4 pb-40",children:[s.jsx(P,{}),s.jsx(B,{}),s.jsxs("div",{className:"flex flex-col gap-4 xl:grid xl:grid-cols-[3fr_1fr]",children:[s.jsxs("div",{className:"flex flex-col gap-4 grow",children:[s.jsx(F,{}),s.jsx(Z,{user:t})]}),s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx(K,{}),s.jsx(Q,{}),s.jsx(V,{})]})]})]}):s.jsx(M,{className:"w-8 h-8 m-2"})}export{he as default};
