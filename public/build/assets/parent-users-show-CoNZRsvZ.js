import{e as w,u as S,a as r,r as v,h as d,x as _,m as $,i as y,j as e,S as A,q as D,L as I}from"./main-Dw1yuUwf.js";import{g as L,a as M}from"./users-selector-DnYDMv9p.js";import{S as U,b as N}from"./users-DUqPc0QS.js";import{g as Y,a as E}from"./grades-selector-7JnXScQQ.js";import{g as k,a as z}from"./nationalities-selector-3uynH7pm.js";import{D as m}from"./description-list-CKcNa6Qp.js";import{L as G}from"./layout-BODneOIk.js";import"./preload-helper-DPi8upcZ.js";import"./button-CZ8BjX0E.js";import"./icons-D1xy210t.js";function O(){var u,f,b;const j=w(),o=S(),p=r(L),h=r(Y),x=r(k),n=r(M),t=r(E),l=r(z),s=(n==null?void 0:n.find(a=>a.id===+(j.id||0)))||null,c=t==null?void 0:t.find(({id:a})=>{var g;return a===((g=s==null?void 0:s.student)==null?void 0:g.gradeId)}),i=t==null?void 0:t.filter(a=>a.teacherId===(s==null?void 0:s.id));return v.useEffect(()=>{p===d.Idle&&o(_()),h===d.Idle&&o($()),x===d.Idle&&o(y())},[o,h,x,p]),!s||!n?e.jsx(A,{className:"w-8 h-8 m-2"}):e.jsxs(G,{withSidebar:!0,children:[e.jsxs("section",{className:"box",children:[e.jsx("div",{className:"box__header",children:e.jsx("h2",{className:"title !text-lg",children:"Базовая информация"})}),e.jsxs("div",{className:"relative",children:[e.jsx(m,{className:"box__body",list:{Фамилия:s.surname,Имя:s.name,Отчество:s.patronymic??"-",Позиция:N[s.role],Пол:U[s.sex],"Электронная почта":s.email?e.jsx(I,{className:"text-blue-600",to:`mailto:${s.email}`,children:s.email}):"-","Дата рождения":s.birthDate?D(s.birthDate).format("DD MMMM YYYY"):"-",Адрес:s.address?`${s.address.region!=="За пределами города"?"район ":""}${s.address.region}, ${s.address.physicalAddress}`:"-",Национальность:((u=l==null?void 0:l.find(({id:a})=>a===s.nationalityId))==null?void 0:u.name)||"-",WhatsApp:(f=s.whatsapp)!=null&&f.code&&((b=s.whatsapp)!=null&&b.numbers)?e.jsxs("a",{className:"text-blue-600",href:`https://wa.me/+${s.whatsapp.code}${s.whatsapp.numbers}`,target:"_blank",children:["+",s.whatsapp.code," ",s.whatsapp.numbers]}):"-"}}),e.jsx("div",{className:"absolute top-[1px] right-0 rounded-br-md z-10 min-w-6 h-[calc(100%-1px)] pointer-events-none bg-gradient-to-l from-white to-transparent"})]})]}),e.jsxs("section",{className:"box",children:[e.jsx("header",{className:"box__header",children:e.jsx("h2",{className:"title !text-lg",children:N[s.role]})}),e.jsxs("div",{className:"relative",children:[s.role==="teacher"&&e.jsx(m,{className:"box__body",list:{"Руководитель классов":i&&i.length?e.jsx("div",{className:"flex flex-wrap gap-2",children:i==null?void 0:i.map(a=>`${a.level} ${a.group}`)}):"-"}}),s.role==="student"&&e.jsx(m,{className:"box__body",list:{Класс:c?`${c.level} ${c.group}`:"-"}}),e.jsx("div",{className:"absolute top-[1px] right-0 rounded-br-md z-10 min-w-6 h-[calc(100%-1px)] pointer-events-none bg-gradient-to-l from-white to-transparent"})]})]})]})}export{O as default};
