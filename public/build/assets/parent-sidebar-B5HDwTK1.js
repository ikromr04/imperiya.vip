import{u as x,a as r,r as m,h as u,x as p,j as s,_ as o,A as c,c as d,v as f,$ as g}from"./main-DLHcp_34.js";import{I as a}from"./icons-OdLsuZAu.js";import{A as j}from"./app-logo-Dele-Soq.js";import{g as b,a as v}from"./users-selector-PkA7Q9gb.js";import"./preload-helper-DPi8upcZ.js";function C(){const t=x(),n=r(b),i=r(v),l=e=>e.target.closest("aside").classList.remove("sidebar--shown");return m.useEffect(()=>{n===u.Idle&&t(p())},[t,n]),s.jsxs(s.Fragment,{children:[s.jsxs("aside",{className:"sidebar fixed left-0 top-0 z-[100] flex flex-row-reverse h-screen transition-all duration-150 transform",onMouseEnter:e=>e.currentTarget.classList.add("sidebar--shown"),onMouseLeave:e=>e.currentTarget.classList.remove("sidebar--shown"),children:[s.jsx("button",{className:"sidebar__toggler text-gray-500 cursor-context-menu transition-all duration-150",type:"button",children:s.jsx(a.menuArrowOpen,{width:10})}),s.jsxs("nav",{className:"flex flex-col min-w-52 h-full bg-white border-r shadow",children:[s.jsx(j,{className:"m-1 p-2",imgClass:"h-9 w-auto"}),s.jsx("hr",{}),s.jsx("ul",{className:"flex flex-col p-1 gap-1",children:s.jsx("li",{children:s.jsxs(o,{className:({isActive:e})=>d("navlink",e&&"navlink--active"),to:c.Auth.Profile,onClick:l,children:[s.jsx(a.accountCircle,{className:"navlink__icon",width:16,height:16}),"Профиль"]})})}),s.jsx("h2",{className:"text-sm text-gray-400 pl-4",children:"Дети"}),s.jsx("ul",{className:"flex flex-col p-1 gap-1",children:i==null?void 0:i.filter(({role:e})=>e==="student").map(e=>s.jsx("li",{children:s.jsxs(o,{className:({isActive:h})=>d("navlink",h&&"navlink--active"),to:f(c.Users.Show,{id:e.id}),onClick:l,children:[s.jsx(a.accountCircle,{className:"navlink__icon",width:16,height:16}),e.surname," ",e.name]})},e.id))}),s.jsx("hr",{}),s.jsx("ul",{className:"flex flex-col p-1 gap-1",children:s.jsx("li",{children:s.jsxs("button",{className:"navlink",type:"button",onClick:()=>t(g()),children:[s.jsx(a.logout,{className:"navlink__icon",width:16,height:16}),"Выйти"]})})})]})]}),s.jsx("button",{className:"sidebar-close fixed left-0 top-0 z-[90] w-screen h-screen transition-all duration-150 bg-black/10 backdrop-blur-[2px] invisible opacity-0",type:"button",onClick:e=>e.currentTarget.previousElementSibling.classList.remove("sidebar--shown")})]})}export{C as default};
