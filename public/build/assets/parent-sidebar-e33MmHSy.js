import{a as x,u as d,r as m,i as p,v as u,j as s,a8 as l,A as c,c as o,X as j,a9 as f}from"./main-DS_fTM3x.js";import{I as a}from"./icons-8R8i3bGk.js";import{A as g}from"./app-logo-BFAjVSvG.js";import{g as v,a as k}from"./users-selector-CYBNvOPH.js";import"./preload-helper-BfFHrpNk.js";function C(){const t=x(),r=d(v),n=d(k),i=e=>e.target.closest("aside").classList.remove("sidebar--shown");return m.useEffect(()=>{r===p.Idle&&t(u())},[t,r]),s.jsxs(s.Fragment,{children:[s.jsxs("aside",{className:"sidebar fixed left-0 top-0 z-[100] flex flex-row-reverse h-screen transition-all duration-150 transform",onMouseEnter:e=>e.currentTarget.classList.add("sidebar--shown"),onMouseLeave:e=>e.currentTarget.classList.remove("sidebar--shown"),children:[s.jsx("button",{className:"sidebar__toggler text-gray-500 cursor-context-menu transition-all duration-150",type:"button",children:s.jsx(a.menuArrowOpen,{width:10})}),s.jsxs("nav",{className:"flex flex-col min-w-52 h-full bg-white border-r shadow",children:[s.jsx(g,{className:"m-1 p-2",imgClass:"h-9 w-auto"}),s.jsx("hr",{}),s.jsxs("ul",{className:"flex flex-col p-1 gap-1",children:[s.jsx("li",{children:s.jsxs(l,{className:({isActive:e})=>o("navlink",e&&"navlink--active"),to:c.Auth.Profile,onClick:i,children:[s.jsx(a.accountCircle,{className:"navlink__icon",width:16,height:16}),"Профиль"]})}),s.jsx("li",{children:s.jsxs(l,{className:({isActive:e})=>o("navlink",e&&"navlink--active"),to:c.Books.Index,onClick:i,children:[s.jsx(a.books,{className:"navlink__icon",width:16,height:16}),"Библиотека"]})})]}),s.jsx("h2",{className:"text-sm text-gray-400 pl-4",children:"Дети"}),s.jsx("ul",{className:"flex flex-col p-1 gap-1",children:n==null?void 0:n.filter(({role:e})=>e==="student").map(e=>e.blockedAt?s.jsx("li",{children:s.jsxs("div",{className:"navlink pointer-events-none text-red-300",children:[s.jsx(a.lock,{className:"navlink__icon",width:18,height:18}),e.surname," ",e.name]})},e.id):s.jsx("li",{children:s.jsxs(l,{className:({isActive:h})=>o("navlink",h&&"navlink--active"),to:j(c.Users.Show,{id:e.id}),onClick:i,children:[s.jsx(a.accountCircle,{className:"navlink__icon",width:16,height:16}),e.surname," ",e.name]})},e.id))}),s.jsx("hr",{}),s.jsx("ul",{className:"flex flex-col p-1 gap-1",children:s.jsx("li",{children:s.jsxs("button",{className:"navlink",type:"button",onClick:()=>t(f()),children:[s.jsx(a.logout,{className:"navlink__icon",width:16,height:16}),"Выйти"]})})})]})]}),s.jsx("button",{className:"sidebar-close fixed left-0 top-0 z-[90] w-screen h-screen transition-all duration-150 bg-black/10 backdrop-blur-[2px] invisible opacity-0",type:"button",onClick:e=>e.currentTarget.previousElementSibling.classList.remove("sidebar--shown")})]})}export{C as default};
