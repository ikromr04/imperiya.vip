import{a as x,j as a,ag as j,y as d}from"./main-D1eUXBUZ.js";import{B as p}from"./button-BL-nMFYt.js";import{T as o}from"./text-field-BNa0wjrA.js";import{F as g,a as b}from"./formik.esm-CBfpT2PV.js";import"./preload-helper-BfFHrpNk.js";import"./icons-BPzoWE67.js";import"./cleanable-5YjDg63i.js";import"./index.browser-OxPLOBIU.js";function N({user:i,setIsOpen:l}){var n,r,c,m;const k=x(),f={social_link:{facebook:((n=i.socialLink)==null?void 0:n.facebook)||"",instagram:((r=i.socialLink)==null?void 0:r.instagram)||"",telegram:((c=i.socialLink)==null?void 0:c.telegram)||"",odnoklassniki:((m=i.socialLink)==null?void 0:m.odnoklassniki)||""}},u=async(s,e)=>{e.setSubmitting(!0),await k(j({id:i.id,dto:s,onSuccess:()=>{d.success("Данные успешно сохранены."),l(!1)},onValidationError:t=>e.setErrors({...t.errors}),onFail:t=>d.error(t)})),e.setSubmitting(!1)};return a.jsx(g,{initialValues:f,onSubmit:u,children:({isSubmitting:s})=>a.jsxs(b,{className:"flex flex-col gap-3",children:[a.jsx(o,{name:"social_link.facebook",type:"url",label:"Фейсбук"}),a.jsx(o,{name:"social_link.instagram",type:"url",label:"Инстаграм"}),a.jsx(o,{name:"social_link.telegram",type:"url",label:"Телеграм"}),a.jsx(o,{name:"social_link.odnoklassniki",type:"url",label:"Одноклассники"}),a.jsxs("div",{className:"flex items-center justify-end gap-2 mt-2 sm:col-span-2",children:[a.jsx(p,{className:"justify-center min-w-[92px]",type:"submit",disabled:s,loading:s,variant:"success",children:"Сохранить"}),a.jsx(p,{type:"reset",onClick:()=>l(!1),variant:"danger",children:"Отмена"})]})]})})}export{N as default};
