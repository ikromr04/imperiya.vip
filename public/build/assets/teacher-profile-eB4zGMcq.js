import{u as f,a as n,B as g,r as b,k as u,h as j,j as s,z as N,S as w,p as v}from"./main-D1X-5qeh.js";import{g as y}from"./grades-selector-CjDDihwd.js";import{S as _,b as h}from"./users-DUqPc0QS.js";import{g as A}from"./nationalities-selector-BQnDI0q3.js";import{D as x}from"./description-list-D0pPZU8B.js";import{L as $}from"./layout-CtDi02q-.js";import{C as D}from"./copy-button-C14utq0P.js";import"./preload-helper-DPi8upcZ.js";import"./button-BxcCnYcJ.js";import"./icons-Cwm3zsc5.js";function I(){var l,c,d,m,p;const o=f(),e=n(g),t=n(y),i=n(A),r=(l=t.data)==null?void 0:l.filter(a=>a.teacherId===(e==null?void 0:e.id));return b.useEffect(()=>{!t.data&&!t.isFetching&&o(u()),!i.data&&!i.isFetching&&o(j())},[o,t.data,t.isFetching,i.data,i.isFetching]),e?s.jsxs($,{children:[s.jsxs("section",{className:"box",children:[s.jsx("header",{className:"box__header",children:s.jsx("h2",{className:"title !text-lg",children:"Базовая информация"})}),s.jsxs("div",{className:"relative",children:[s.jsx(x,{className:"box__body",list:{Фамилия:e.surname,Имя:e.name,Отчество:e.patronymic??"-",Логин:e.login,Пароль:e.password?s.jsx(D,{className:"items-baseline font-normal text-[16px] h-auto !p-0 shadow-none",string:e.password,children:"Скопировать"}):"",Позиция:h[e.role],Пол:_[e.sex],"Электронная почта":e.email?s.jsx("a",{className:"text-blue-600",href:`mailto:${e.email}`,children:e.email}):"-","Дата рождения":e.birthDate?v(e.birthDate).format("DD MMMM YYYY"):"-",Адрес:e.address?`${e.address.region!=="За пределами города"?"район ":""}${e.address.region}, ${e.address.physicalAddress}`:"-",Национальность:((d=(c=i.data)==null?void 0:c.find(({id:a})=>a===e.nationalityId))==null?void 0:d.name)||"-",WhatsApp:(m=e.whatsapp)!=null&&m.code&&((p=e.whatsapp)!=null&&p.numbers)?s.jsxs("a",{className:"text-blue-600",href:`https://wa.me/+${e.whatsapp.code}${e.whatsapp.numbers}`,target:"_blank",children:["+",e.whatsapp.code," ",e.whatsapp.numbers]}):"-"}}),s.jsx("div",{className:"absolute top-[1px] right-0 rounded-br-md z-10 min-w-6 h-[calc(100%-1px)] pointer-events-none bg-gradient-to-l from-white to-transparent"})]})]}),s.jsxs("section",{className:"box",children:[s.jsx("header",{className:"box__header",children:s.jsx("h2",{className:"title !text-lg",children:h[e.role]})}),s.jsxs("div",{className:"relative",children:[s.jsx(x,{className:"box__body",list:{"Руководитель классов":r&&r.length?s.jsx("div",{className:"flex flex-wrap gap-2",children:r==null?void 0:r.map(a=>`${a.level} ${a.group}`)}):"-"}}),s.jsx("div",{className:"absolute top-[1px] right-0 rounded-br-md z-10 min-w-6 h-[calc(100%-1px)] pointer-events-none bg-gradient-to-l from-white to-transparent"})]})]})]}):s.jsx(N,{children:s.jsx(w,{className:"w-8 h-8 m-2"})})}export{I as default};
