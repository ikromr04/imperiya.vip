import{r as i,j as e}from"./main-AaLcc3dp.js";import{I as a}from"./icons-Dmjc42BA.js";import{L as l}from"./lessons-journal-edit-form-IbhJbpwi.js";import"./preload-helper-BfFHrpNk.js";import"./button-CNp4qR8S.js";import"./select-field-CQjAXBaH.js";import"./cleanable-CLHN0dJc.js";import"./formik.esm-DihjhV0Z.js";import"./use-dropdown-CCuvuR3G.js";import"./index.browser-OxPLOBIU.js";import"./text-field-CZQXtpNO.js";import"./lessons-selector-BB7-hbAL.js";function N({title:c,position:n,dto:m,onClose:s,onSuccess:d}){const t=i.useRef(null);return i.useEffect(()=>{if(t.current){t.current.style.top=`${n.top}px`,t.current.style.left=`${n.left}px`;const r=t.current.getBoundingClientRect();r.right>window.innerWidth&&(t.current.style.transform=`translateX(-${r.right-window.innerWidth+32}px)`),r.bottom>window.innerHeight&&(t.current.style.top="auto",t.current.style.bottom="16px")}const o=r=>{t.current&&!t.current.contains(r.target)&&s()};return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[s,n.left,n.top]),e.jsxs("div",{ref:t,className:"fixed flex z-30 min-w-52 max-w-52 flex-col py-1 bg-white rounded border shadow transform font-normal",children:[e.jsxs("div",{className:"flex justify-between items-center pl-2 pr-1",children:[e.jsx("h3",{className:"text-sm leading-none text-gray-400",children:c}),e.jsx("button",{className:"border rounded p-1 text-danger",type:"button",onClick:s,children:e.jsx(a.close,{width:10,height:10})})]}),e.jsx("hr",{className:"my-1"}),e.jsx("div",{className:"px-2",children:e.jsx(l,{dto:m,onSuccess:o=>{d(o),s()}})})]})}export{N as default};
