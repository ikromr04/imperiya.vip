import{a as E,f as G,u as n,r as P,i as g,v as R,n as B,k as C,j as e,S as T,$ as h,A as m,X as W,c as M,t as X,L as l}from"./main-i7lW-cte.js";import{g as q,a as F}from"./users-selector-m7lDIAK7.js";import{B as x}from"./button-C7HOpn62.js";import{g as H,a as J}from"./users-BTSAOhhd.js";import{b as f,S as K}from"./users-DUqPc0QS.js";import{g as O,a as Q}from"./grades-selector-BEirw3S0.js";import{I as t}from"./icons-D8YHPtNz.js";import{g as V,a as Z}from"./nationalities-selector-CUyEOqev.js";import{D as u}from"./description-list-C8WYcudr.js";import"./preload-helper-DPi8upcZ.js";function ce(){var w,v,k,_,y,S,$,L,A,I,U,D,z;const c=E(),Y=G(),j=n(q),b=n(O),N=n(V),i=n(F),o=n(Q),p=n(Z),s=(i==null?void 0:i.find(a=>a.id===+(Y.id||0)))||null,d=o==null?void 0:o.find(({id:a})=>{var r;return a===((r=s==null?void 0:s.student)==null?void 0:r.gradeId)});return P.useEffect(()=>{j===g.Idle&&c(R()),b===g.Idle&&c(B()),N===g.Idle&&c(C())},[c,b,N,j]),!s||!i?e.jsx(T,{className:"w-8 h-8 m-2"}):e.jsxs("main",{className:"pt-4 pb-40",children:[e.jsxs("header",{className:"relative z-10 lg:flex lg:items-top lg:gap-4",children:[e.jsx("div",{className:"relative min-w-36 max-w-36 min-h-36 max-h-36 !p-0 mb-2 lg:mb-0",children:e.jsx("img",{className:"block w-full h-full rounded-full object-cover border-[2px] border-white",src:s.avatarThumb||"/images/avatar.png",width:144,height:144,alt:s.name})}),e.jsxs("div",{className:"lg:grow lg:mt-20",children:[e.jsxs("h1",{className:"title mb-1",children:[s.surname," ",s.name]}),e.jsxs("span",{className:"flex max-w-max text-center bg-blue-200 text-primary rounded-full text-sm py-1 px-2 leading-none",children:[f[s.role]," ",d&&`${d==null?void 0:d.level} ${d.group}`]})]}),e.jsxs("div",{className:"absolute top-28 right-0 z-10 flex items-center gap-1 lg:static lg:top-0 lg:items-start lg:mt-20",children:[e.jsxs(x,{variant:"light",href:h(m.Users.Show,{id:H(i,s.id)}),children:[e.jsx(t.previous,{width:14,height:14}),e.jsx("span",{className:"sr-only md:not-sr-only",children:"Предыдущий"})]}),e.jsxs(x,{variant:"light",href:h(m.Users.Show,{id:J(i,s.id)}),children:[e.jsx("span",{className:"sr-only md:not-sr-only",children:"Следующий"}),e.jsx(t.next,{width:14,height:14})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("ul",{className:"flex items-center font-medium text-slate-500 overflow-scroll no-scrollbar py-4 pl-2 -ml-2 pr-7",children:e.jsx("li",{children:e.jsx(W,{className:({isActive:a})=>M("flex items-center h-7 px-2 transition-all duration-150 border border-transparent min-w-max",a&&"rounded shadow bg-white border-gray-200"),to:h(m.Users.Show,{id:s.id}),children:"Профиль"})})}),e.jsx("div",{className:"absolute top-0 right-0 z-10 min-w-6 h-full pointer-events-none bg-gradient-to-l from-gray-100 to-transparent"})]}),e.jsxs("div",{className:"flex flex-col gap-4 xl:grid xl:grid-cols-[3fr_1fr]",children:[e.jsxs("div",{className:"flex flex-col gap-4 grow",children:[e.jsxs("section",{className:"box",children:[e.jsx("div",{className:"box__header",children:e.jsx("h2",{className:"title !text-lg",children:"Базовая информация"})}),e.jsxs("div",{className:"relative",children:[e.jsx(u,{className:"box__body",list:{Фамилия:s.surname,Имя:s.name,Отчество:s.patronymic??"-",Позиция:f[s.role],Пол:K[s.sex],"Электронная почта":s.email?e.jsx(l,{className:"text-blue-600",to:`mailto:${s.email}`,children:s.email}):"-","Дата рождения":s.birthDate?X(s.birthDate).format("DD MMMM YYYY"):"-",Адрес:s.address?`${s.address.region!=="За пределами города"?"район ":""}${s.address.region}, ${s.address.physicalAddress}`:"-",Национальность:((w=p==null?void 0:p.find(({id:a})=>a===s.nationalityId))==null?void 0:w.name)||"-",WhatsApp:(v=s.whatsapp)!=null&&v.code&&((k=s.whatsapp)!=null&&k.numbers)?e.jsxs("a",{className:"text-blue-600",href:`https://wa.me/+${s.whatsapp.code}${s.whatsapp.numbers}`,target:"_blank",children:["+",s.whatsapp.code," ",s.whatsapp.numbers]}):"-"}}),e.jsx("div",{className:"absolute top-[1px] right-0 rounded-br-md z-10 min-w-6 h-[calc(100%-1px)] pointer-events-none bg-gradient-to-l from-white to-transparent"})]})]}),e.jsxs("section",{className:"box",children:[e.jsx("header",{className:"box__header",children:e.jsx("h2",{className:"title !text-lg",children:f[s.role]})}),e.jsxs("div",{className:"relative",children:[e.jsx(u,{className:"box__body",list:{"Руководитель классов":o?e.jsx("div",{className:"flex flex-wrap gap-2",children:o.filter(a=>a.teacherId===s.id).map(a=>e.jsxs(l,{className:"text-blue-600",to:h(m.Classes.Show,{id:a.id}),children:[a.level," ",a.group]}))}):"-"}}),e.jsx("div",{className:"absolute top-[1px] right-0 rounded-br-md z-10 min-w-6 h-[calc(100%-1px)] pointer-events-none bg-gradient-to-l from-white to-transparent"})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("section",{className:"box",children:[e.jsxs("div",{className:"box__header flex-col !items-start",children:[e.jsxs(x,{className:"flex items-center gap-2 text-blue-600 leading-none",variant:"default",href:s.email?`mailto:${s.email}`:"",children:[e.jsx("span",{className:"flex items-center justify-center w-7 h-7 rounded bg-blue-50 text-success",children:e.jsx(t.mail,{width:16,height:16})}),s.email??"-"]}),e.jsxs(x,{className:M("flex items-center gap-2 text-blue-600 leading-none",!s.whatsapp&&"pointer-events-none"),variant:"default",href:`https://wa.me/+${(_=s.whatsapp)==null?void 0:_.code}${(y=s.whatsapp)==null?void 0:y.numbers}`,target:"_blank",children:[e.jsx("span",{className:"flex items-center justify-center w-7 h-7 rounded bg-blue-50 text-success",children:e.jsx(t.whatsapp,{width:16,height:16})}),s.whatsapp?`+${s.whatsapp.code} ${s.whatsapp.numbers}`:"-"]})]}),e.jsx(u,{className:"box__body",variant:"detailed",list:{}})]}),e.jsxs("section",{className:"box",children:[e.jsx("div",{className:"box__header",children:e.jsx("h2",{className:"font-medium text-gray-900",children:"Телефонные номера"})}),e.jsx("ul",{className:"box__body flex flex-col gap-2",children:(S=s.phoneNumbers)==null?void 0:S.map(({code:a,numbers:r})=>e.jsx("li",{children:e.jsxs(l,{className:"flex items-center gap-2 w-max text-blue-600",to:`tel:+${a}${r}`,children:[e.jsx("span",{className:"flex items-center w-7 h-7 justify-center bg-blue-50 rounded text-success",children:e.jsx(t.phone,{width:16,height:16})}),"+",a," ",r]})},r))})]}),e.jsxs("section",{className:"box",children:[e.jsx("div",{className:"box__header",children:e.jsx("h2",{className:"font-medium text-gray-900",children:"Социальные сети"})}),e.jsxs("div",{className:"box__body flex flex-wrap gap-2",children:[(($=s.socialLink)==null?void 0:$.facebook)&&e.jsx(l,{className:"flex shadow-md rounded-full transition-all duration-150 hover:shadow-none",to:s.socialLink.facebook,target:"_blank",children:e.jsx(t.facebook,{width:24,height:24})}),((L=s.socialLink)==null?void 0:L.instagram)&&e.jsx(l,{className:"flex shadow-md rounded-full transition-all duration-150 hover:shadow-none",to:(A=s.socialLink)==null?void 0:A.instagram,target:"_blank",children:e.jsx(t.instagram,{width:24,height:24})}),((I=s.socialLink)==null?void 0:I.telegram)&&e.jsx(l,{className:"flex shadow-md rounded-full transition-all duration-150 hover:shadow-none",to:(U=s.socialLink)==null?void 0:U.telegram,target:"_blank",children:e.jsx(t.telegram,{width:24,height:24})}),((D=s.socialLink)==null?void 0:D.odnoklassniki)&&e.jsx(l,{className:"flex shadow-md rounded-full transition-all duration-150 hover:shadow-none",to:(z=s.socialLink)==null?void 0:z.odnoklassniki,target:"_blank",children:e.jsx(t.odnoklassniki,{width:24,height:24})})]})]})]})]})]})}export{ce as default};
