import{f as R,a as E,u as n,r as G,i as u,v as z,n as B,k as P,j as e,S as F,a8 as o,X as d,c as t,A as c,L as m}from"./main-AaLcc3dp.js";import{g as T,a as X}from"./users-selector-DxlwkRpS.js";import{B as U}from"./button-CNp4qR8S.js";import{b as q}from"./users-DUqPc0QS.js";import{g as C,a as H}from"./grades-selector-hlDu_ePV.js";import{I as r}from"./icons-Dmjc42BA.js";import{g as J}from"./nationalities-selector-DeQUVfWI.js";import{D as K}from"./description-list-jOjvK5nk.js";function se({children:I,withSidebar:f=!1}){var w,N,v,k,y,_,L,S,$,A;const D=R(),h=E(),g=n(T),b=n(C),j=n(J),x=n(X),p=n(H),s=(x==null?void 0:x.find(a=>a.id===+(D.id||0)))||null,l=p==null?void 0:p.find(({id:a})=>{var i;return a===((i=s==null?void 0:s.student)==null?void 0:i.gradeId)});return G.useEffect(()=>{g===u.Idle&&h(z()),b===u.Idle&&h(B()),j===u.Idle&&h(P())},[h,b,j,g]),!s||!x?e.jsx(F,{className:"w-8 h-8"}):e.jsxs("main",{className:"pt-4 pb-40",children:[e.jsxs("header",{className:"relative z-10 lg:flex lg:items-top lg:gap-4",children:[e.jsx("div",{className:"relative min-w-36 max-w-36 min-h-36 max-h-36 !p-0 mb-2 lg:mb-0",children:e.jsx("img",{className:"block w-full h-full rounded-full object-cover border-[2px] border-white",src:s.avatarThumb||"/images/avatar.png",width:144,height:144,alt:s.name})}),e.jsxs("div",{className:"lg:grow lg:mt-20",children:[e.jsxs("h1",{className:"title mb-1",children:[s.surname," ",s.name]}),e.jsxs("span",{className:"flex max-w-max text-center bg-blue-200 text-primary rounded-full text-sm py-1 px-2 leading-none",children:[q[s.role]," ",l&&`${l==null?void 0:l.level} ${l.group}`]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("ul",{className:"flex items-center font-medium text-slate-500 overflow-scroll no-scrollbar py-4 pl-2 -ml-2 pr-7",children:[e.jsx("li",{children:e.jsx(o,{className:({isActive:a})=>t("flex items-center h-7 px-2 transition-all duration-150 border border-transparent min-w-max",a&&"rounded shadow bg-white border-gray-200"),to:d(c.Users.Show,{id:s.id}),end:!0,children:"Профиль"})}),s.role==="student"&&e.jsxs(e.Fragment,{children:[e.jsx("li",{children:e.jsx(o,{className:({isActive:a})=>t("flex items-center h-7 px-2 transition-all duration-150 border border-transparent min-w-max",a&&"rounded shadow bg-white border-gray-200"),to:d(c.Users.Lessons,{id:s.id}),children:"Расписание"})}),e.jsx("li",{children:e.jsx(o,{className:({isActive:a})=>t("flex items-center h-7 px-2 transition-all duration-150 border border-transparent min-w-max",a&&"rounded shadow bg-white border-gray-200"),to:d(c.Users.Diary,{id:s.id}),children:"Дневник"})}),e.jsx("li",{children:e.jsx(o,{className:({isActive:a})=>t("flex items-center h-7 px-2 transition-all duration-150 border border-transparent min-w-max",a&&"rounded shadow bg-white border-gray-200"),to:d(c.Users.Ratings,{id:s.id}),children:"Оценки за четверть"})}),e.jsx("li",{children:e.jsx(o,{className:({isActive:a})=>t("flex items-center h-7 px-2 transition-all duration-150 border border-transparent min-w-max",a&&"rounded shadow bg-white border-gray-200"),to:d(c.Users.Leadership,{id:s.id}),children:"Рейтинг"})})]})]}),e.jsx("div",{className:"absolute top-0 right-0 z-10 min-w-6 h-full pointer-events-none bg-gradient-to-l from-gray-100 to-transparent"})]}),e.jsxs("div",{className:t("flex flex-col gap-4",f&&"xl:grid xl:grid-cols-[75%_1fr]"),children:[e.jsx("div",{className:"flex flex-col gap-4 grow",children:I}),f&&e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("section",{className:"box",children:[e.jsxs("div",{className:"box__header flex-col !items-start",children:[e.jsxs(U,{className:"flex items-center gap-2 text-blue-600 leading-none",variant:"default",href:s.email?`mailto:${s.email}`:"",children:[e.jsx("span",{className:"flex items-center justify-center w-7 h-7 rounded bg-blue-50 text-success",children:e.jsx(r.mail,{width:16,height:16})}),s.email??"-"]}),e.jsxs(U,{className:t("flex items-center gap-2 text-blue-600 leading-none",!s.whatsapp&&"pointer-events-none"),variant:"default",href:`https://wa.me/+${(w=s.whatsapp)==null?void 0:w.code}${(N=s.whatsapp)==null?void 0:N.numbers}`,target:"_blank",children:[e.jsx("span",{className:"flex items-center justify-center w-7 h-7 rounded bg-blue-50 text-success",children:e.jsx(r.whatsapp,{width:16,height:16})}),s.whatsapp?`+${s.whatsapp.code} ${s.whatsapp.numbers}`:"-"]})]}),e.jsx(K,{className:"box__body",variant:"detailed",list:{}})]}),e.jsxs("section",{className:"box",children:[e.jsx("div",{className:"box__header",children:e.jsx("h2",{className:"font-medium text-gray-900",children:"Телефонные номера"})}),e.jsx("ul",{className:"box__body flex flex-col gap-2",children:(v=s.phoneNumbers)==null?void 0:v.map(({code:a,numbers:i})=>e.jsx("li",{children:e.jsxs(m,{className:"flex items-center gap-2 w-max text-blue-600",to:`tel:+${a}${i}`,children:[e.jsx("span",{className:"flex items-center w-7 h-7 justify-center bg-blue-50 rounded text-success",children:e.jsx(r.phone,{width:16,height:16})}),"+",a," ",i]})},i))})]}),e.jsxs("section",{className:"box",children:[e.jsx("div",{className:"box__header",children:e.jsx("h2",{className:"font-medium text-gray-900",children:"Социальные сети"})}),e.jsxs("div",{className:"box__body flex flex-wrap gap-2",children:[((k=s.socialLink)==null?void 0:k.facebook)&&e.jsx(m,{className:"flex shadow-md rounded-full transition-all duration-150 hover:shadow-none",to:s.socialLink.facebook,target:"_blank",children:e.jsx(r.facebook,{width:24,height:24})}),((y=s.socialLink)==null?void 0:y.instagram)&&e.jsx(m,{className:"flex shadow-md rounded-full transition-all duration-150 hover:shadow-none",to:(_=s.socialLink)==null?void 0:_.instagram,target:"_blank",children:e.jsx(r.instagram,{width:24,height:24})}),((L=s.socialLink)==null?void 0:L.telegram)&&e.jsx(m,{className:"flex shadow-md rounded-full transition-all duration-150 hover:shadow-none",to:(S=s.socialLink)==null?void 0:S.telegram,target:"_blank",children:e.jsx(r.telegram,{width:24,height:24})}),(($=s.socialLink)==null?void 0:$.odnoklassniki)&&e.jsx(m,{className:"flex shadow-md rounded-full transition-all duration-150 hover:shadow-none",to:(A=s.socialLink)==null?void 0:A.odnoklassniki,target:"_blank",children:e.jsx(r.odnoklassniki,{width:24,height:24})})]})]})]})]})]})}export{se as L};
