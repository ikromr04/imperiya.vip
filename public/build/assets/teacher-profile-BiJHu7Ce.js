import{u as i,g as m,r as h,j as s,t as j,L as c,c as b,X as N,A as w,a as k,i as x,v as _,n as v,k as y,m as S,S as $}from"./main-C3zapZtd.js";import{g as A}from"./users-selector-DxsZfUin.js";import{H as L,N as D}from"./navigation-CvPT9W7G.js";import{a as I,g as M}from"./nationalities-selector-B_j6XA9U.js";import{g as Y}from"./professions-selector-BBMQhaob.js";import{a as P,g as B}from"./grades-selector-DA-FmHwH.js";import{C as E}from"./copy-button-DQwFHibF.js";import{D as p}from"./description-list-BMrUDRmA.js";import{S as C,b as g}from"./users-DUqPc0QS.js";import{I as d}from"./icons-CmdP5zNp.js";import{B as u}from"./button-k6U4pBlW.js";import"./preload-helper-BfFHrpNk.js";function R(){var t;const e=i(m),a=i(I);return((t=a==null?void 0:a.find(({id:n})=>n===(e==null?void 0:e.nationalityId)))==null?void 0:t.name)||"-"}function U(){const e=i(m),a=h.useMemo(()=>e?{Фамилия:e.surname,Имя:e.name,Отчество:e.patronymic??"-",Логин:e.login,Пароль:e.password?s.jsx(E,{className:"items-baseline font-normal text-[16px] h-auto !p-0 shadow-none",string:e.password,children:"Скопировать"}):"-",Позиция:g[e.role],Пол:C[e.sex],"Электронная почта":e.email?s.jsx(c,{className:"text-blue-600",to:`mailto:${e.email}`,children:e.email}):"-","Дата рождения":e.birthDate?j(e.birthDate).format("DD MMMM YYYY"):"-",Адрес:e.address?`${e.address.region!=="За пределами города"?"район ":""}${e.address.region}, ${e.address.physicalAddress}`:"-",Национальность:s.jsx(R,{}),WhatsApp:e.whatsapp?s.jsxs("a",{className:"text-blue-600",href:`https://wa.me/+${e.whatsapp.code}${e.whatsapp.numbers}`,target:"_blank",rel:"noopener noreferrer",children:["+",e.whatsapp.code," ",e.whatsapp.numbers]}):"-"}:{},[e]);if(e)return s.jsxs("section",{className:"box",children:[s.jsx("header",{className:"box__header",children:s.jsx("h2",{className:"title md:!text-lg",children:"Базовая информация"})}),s.jsxs("div",{className:"relative",children:[s.jsx(p,{className:"box__body",list:a}),s.jsx("div",{className:"absolute top-[1px] right-0 rounded-br-md z-10 min-w-6 h-[calc(100%-1px)] pointer-events-none bg-gradient-to-l from-white to-transparent"})]})]})}const z=h.memo(U);function G(){var a,t;const e=i(m);if(e)return s.jsxs("section",{className:"box",children:[s.jsxs("div",{className:"box__header flex-col !items-start",children:[s.jsxs(u,{className:"flex items-center gap-2 text-blue-600 leading-none",variant:"default",href:e.email?`mailto:${e.email}`:"",children:[s.jsx("span",{className:"flex items-center justify-center w-7 h-7 rounded bg-blue-50 text-success",children:s.jsx(d.mail,{width:16,height:16})}),e.email??"-"]}),s.jsxs(u,{className:b("flex items-center gap-2 text-blue-600 leading-none",!e.whatsapp&&"pointer-events-none"),variant:"default",href:`https://wa.me/+${(a=e.whatsapp)==null?void 0:a.code}${(t=e.whatsapp)==null?void 0:t.numbers}`,target:"_blank",children:[s.jsx("span",{className:"flex items-center justify-center w-7 h-7 rounded bg-blue-50 text-success",children:s.jsx(d.whatsapp,{width:16,height:16})}),e.whatsapp?`+${e.whatsapp.code} ${e.whatsapp.numbers}`:"-"]})]}),s.jsx(p,{className:"box__body",variant:"detailed",list:{"Дата регистрации":j(e.createdAt).format("DD MMMM YYYY")}})]})}const H=h.memo(G);function T(){var a;const e=i(m);if(e)return s.jsxs("section",{className:"box",children:[s.jsx("header",{className:"box__header",children:s.jsx("h2",{className:"font-medium text-gray-900",children:"Телефонные номера"})}),s.jsx("ul",{className:"box__body flex flex-col gap-2",children:(a=e.phoneNumbers)==null?void 0:a.map(({code:t,numbers:n})=>s.jsx("li",{children:s.jsxs(c,{className:"flex items-center gap-2 w-max text-blue-600",to:`tel:+${t}${n}`,children:[s.jsx("span",{className:"flex items-center w-7 h-7 justify-center bg-blue-50 rounded text-success",children:s.jsx(d.phone,{width:16,height:16})}),"+",t," ",n]})},n))})]})}const W=h.memo(T);function X(){var a,t,n,r,l,o,f;const e=i(m);if(e)return s.jsxs("section",{className:"box",children:[s.jsx("header",{className:"box__header",children:s.jsx("h2",{className:"font-medium text-gray-900",children:"Социальные сети"})}),s.jsxs("div",{className:"box__body flex flex-wrap gap-2",children:[((a=e.socialLink)==null?void 0:a.facebook)&&s.jsx(c,{className:"flex shadow-md rounded-full transition-all duration-150 hover:shadow-none",to:e.socialLink.facebook,target:"_blank",children:s.jsx(d.facebook,{width:24,height:24})}),((t=e.socialLink)==null?void 0:t.instagram)&&s.jsx(c,{className:"flex shadow-md rounded-full transition-all duration-150 hover:shadow-none",to:(n=e.socialLink)==null?void 0:n.instagram,target:"_blank",children:s.jsx(d.instagram,{width:24,height:24})}),((r=e.socialLink)==null?void 0:r.telegram)&&s.jsx(c,{className:"flex shadow-md rounded-full transition-all duration-150 hover:shadow-none",to:(l=e.socialLink)==null?void 0:l.telegram,target:"_blank",children:s.jsx(d.telegram,{width:24,height:24})}),((o=e.socialLink)==null?void 0:o.odnoklassniki)&&s.jsx(c,{className:"flex shadow-md rounded-full transition-all duration-150 hover:shadow-none",to:(f=e.socialLink)==null?void 0:f.odnoklassniki,target:"_blank",children:s.jsx(d.odnoklassniki,{width:24,height:24})})]})]})}const q=h.memo(X);function F({user:e}){var n,r,l;const a=i(P),t=a==null?void 0:a.filter(o=>o.teacherId===e.id);return s.jsxs("section",{className:"box",children:[s.jsx("header",{className:"box__header",children:s.jsx("h2",{className:"title md:!text-lg",children:g[e.role]})}),s.jsxs("div",{className:"relative",children:[s.jsx(p,{className:"box__body",list:{"Руководитель класса":t!=null&&t.length?s.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(o=>s.jsxs(c,{className:"text-blue-600",to:N(w.Classes.Show,{id:o.id}),children:[o.level," ",o.group]},o.id))}):"-",Образование:((n=e.teacher)==null?void 0:n.education)??"-",Достижения:((r=e.teacher)==null?void 0:r.achievements)??"-","Опыт работы":((l=e.teacher)==null?void 0:l.workExperience)??"-"}}),s.jsx("div",{className:"absolute top-[1px] right-0 rounded-br-md z-10 min-w-6 h-[calc(100%-1px)] pointer-events-none bg-gradient-to-l from-white to-transparent"})]})]})}function oe(){const e=k(),a=i(m),t=i(A),n=i(B),r=i(M),l=i(Y);return h.useEffect(()=>{t===x.Idle&&e(_()),n===x.Idle&&e(v()),r===x.Idle&&e(y()),l===x.Idle&&e(S())},[e,n,r,l,t]),a?s.jsxs("main",{className:"pt-4 pb-40",children:[s.jsx(L,{}),s.jsx(D,{}),s.jsxs("div",{className:"flex flex-col gap-4 xl:grid xl:grid-cols-[3fr_1fr]",children:[s.jsxs("div",{className:"flex flex-col gap-4 grow",children:[s.jsx(z,{}),s.jsx(F,{user:a})]}),s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx(H,{}),s.jsx(W,{}),s.jsx(q,{})]})]})]}):s.jsx($,{className:"w-8 h-8 m-2"})}export{oe as default};
