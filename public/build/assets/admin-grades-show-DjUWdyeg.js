import{f as b,a as v,u as c,r as y,i as p,n as S,v as w,j as s,S as I,A as n,X as d,L as f}from"./main-DzOvJ3Bl.js";import{I as j}from"./icons-B5TgyNC1.js";import{B as A}from"./breadcrumbs-MUZy6f_b.js";import{B as u}from"./button-BK2ewXLd.js";import{g as G,a as _}from"./grades-selector-XXuKk_5g.js";import{g as U,a as B}from"./users-selector-BLV6X7VS.js";import{g as C,a as E}from"./grades-Cng6ed5l.js";import"./preload-helper-BfFHrpNk.js";function z(){const g=b(),h=v(),m=c(G),x=c(U),r=c(_),t=c(B),e=(r==null?void 0:r.find(({id:a})=>a===+(g.id||0)))||null,i=t==null?void 0:t.filter(a=>{var o;return((o=a.student)==null?void 0:o.gradeId)===(e==null?void 0:e.id)}),l=t==null?void 0:t.find(({id:a})=>a===(e==null?void 0:e.teacherId));return y.useEffect(()=>{m===p.Idle&&h(S()),x===p.Idle&&h(w())},[h,m,x]),!e||!r?s.jsx(I,{className:"w-8 h-8"}):s.jsxs("main",{className:"pt-4 pb-40",children:[s.jsx(A,{items:[["Все классы",n.Classes.Index],[`${e.level} ${e.group}`,""]]}),s.jsx("header",{className:"flex items-end justify-end mb-4",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsxs(u,{variant:"light",href:d(n.Classes.Show,{id:C(r,e.id)}),children:[s.jsx(j.previous,{width:14,height:14}),s.jsx("span",{className:"sr-only md:not-sr-only",children:"Предыдущий"})]}),s.jsxs(u,{variant:"light",href:d(n.Classes.Show,{id:E(r,e.id)}),children:[s.jsx("span",{className:"sr-only md:not-sr-only",children:"Следующий"}),s.jsx(j.next,{width:14,height:14})]})]})}),s.jsxs("div",{className:"box",children:[s.jsx("div",{className:"box__header",children:s.jsxs("h1",{className:"title",children:["Класс ",e.level,s.jsx("sup",{children:'"'}),e.group,s.jsx("sup",{children:'"'})]})}),s.jsxs("section",{className:"box__body",children:[s.jsx("h2",{className:"title !text-lg",children:"Руководитель"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:l&&s.jsxs(f,{className:"py-1 px-2 border rounded bg-gray-100 hover:bg-blue-50",to:d(n.Users.Show,{id:l.id}),children:[l.surname," ",l.name," ",l.patronymic]})})]}),s.jsxs("section",{className:"box__body",children:[s.jsxs("h2",{className:"title !text-lg",children:["Ученики (",i==null?void 0:i.length,")"]}),s.jsx("div",{className:"flex flex-wrap gap-1",children:i==null?void 0:i.map(({id:a,surname:o,name:N})=>s.jsxs(f,{className:"py-1 px-2 border rounded bg-gray-100 hover:bg-blue-50",to:d(n.Users.Show,{id:a}),children:[o," ",N]},a))})]})]})]})}export{z as default};
