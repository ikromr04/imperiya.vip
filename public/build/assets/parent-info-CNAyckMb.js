const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/role-edit-form-BkYNbOR1.js","assets/main-DTCJiQsq.js","assets/preload-helper-DPi8upcZ.js","assets/main-CQojFZrT.css","assets/button-ZbyXFrBi.js","assets/icons-B2aTwrz9.js","assets/formik.esm-DmaS9LwQ.js","assets/grades-selector-fDFrO--I.js","assets/select-field-C-EaKXM3.js","assets/cleanable-D3GteXwV.js","assets/use-dropdown-BewGSdNb.js","assets/index.browser-OxPLOBIU.js","assets/content-field-DlN10HYe.js","assets/users-selector-ClKCaFND.js","assets/text-field-DtssmZdu.js","assets/professions-selector-CBoORgOR.js"])))=>i.map(i=>d[i]);
import{_ as u}from"./preload-helper-DPi8upcZ.js";import{u as g,a as l,r as o,h as b,k as _,j as s,L as N,v as S,A as v,S as A}from"./main-DTCJiQsq.js";import{I}from"./icons-B2aTwrz9.js";import{B as P}from"./button-ZbyXFrBi.js";import{D as w}from"./description-list-DJNGS9w7.js";import{M as E}from"./modal-Bd5XVz8d.js";import{T as k}from"./tooltip-BZHTSEim.js";import{b as R}from"./users-DUqPc0QS.js";import{g as D,a as L}from"./professions-selector-CBoORgOR.js";import{a as y}from"./users-selector-ClKCaFND.js";const F=o.lazy(()=>u(()=>import("./role-edit-form-BkYNbOR1.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15])));function H({user:t}){var x,f,h;const m=g(),p=l(D),i=l(y),n=l(L),r=i==null?void 0:i.filter(({id:e})=>{var a,j;return(j=(a=t.parent)==null?void 0:a.children)==null?void 0:j.includes(e)}),[c,d]=o.useState(!1);return o.useEffect(()=>{p===b.Idle&&m(_())},[m,p]),s.jsxs(s.Fragment,{children:[s.jsxs("section",{className:"box",children:[s.jsxs("header",{className:"box__header",children:[s.jsx("h2",{className:"title md:!text-lg",children:R[t.role]}),s.jsxs(P,{variant:"light",onClick:()=>d(!0),children:[s.jsx(I.edit,{width:14,height:14}),s.jsx(k,{label:"Редактировать",position:"left"})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(w,{className:"box__body",list:{Дети:r!=null&&r.length?r.map(e=>s.jsxs(o.Fragment,{children:[s.jsxs(N,{className:"text-blue-600",to:S(v.Users.Show,{id:e.id}),children:[e.surname," ",e.name]}),s.jsx("br",{})]},e.id)):"-","Сфера деятельности":((x=n==null?void 0:n.find(({id:e})=>{var a;return((a=t.parent)==null?void 0:a.professionId)===e}))==null?void 0:x.name)??"-","Место работы":((f=t.parent)==null?void 0:f.workplace)??"-",Должность:((h=t.parent)==null?void 0:h.position)??"-"}}),s.jsx("div",{className:"absolute top-[1px] right-0 rounded-br-md z-10 min-w-6 h-[calc(100%-1px)] pointer-events-none bg-gradient-to-l from-white to-transparent"})]})]}),c&&s.jsx(E,{isOpen:c,children:s.jsx(o.Suspense,{fallback:s.jsx(A,{className:"w-10 h-10"}),children:s.jsx(F,{user:t,setIsOpen:d})})})]})}export{H as default};
