import{a as x,r,j as t,c as p,L as f,A as i,l as h,u as b,b as g,d as j}from"./main-BqixXxem.js";import{A as w}from"./app-logo-C8_qfh5-.js";import{c as N,a as o}from"./index.esm-B9vCAfNi.js";import{F as A,a as y}from"./formik.esm-BDcV0444.js";import{B as S}from"./button-BGEvgfIe.js";import{P as v}from"./password-field-DM5Z5IhT.js";import{T as F}from"./text-field-B8mMX8v3.js";import"./preload-helper-BfFHrpNk.js";import"./icons-Be0wsgc_.js";import"./index-COCh7pnA.js";import"./cleanable-YCat7fsy.js";import"./index.browser-OxPLOBIU.js";const k=N().shape({login:o().required("Введите Ваш логин."),password:o().required("Введите Ваш пароль.")});function B({className:s}){const l=x(),m={login:"",password:""},[n,c]=r.useState(!1),d=async(e,a)=>{a.setSubmitting(!0),await l(h({dto:e,onValidationError:u=>a.setErrors({...u.errors}),onBlocked:()=>c(!0)})),a.setSubmitting(!1)};return t.jsx(A,{initialValues:m,validationSchema:k,onSubmit:d,children:({isSubmitting:e})=>t.jsxs(y,{className:p(s,"flex flex-col"),children:[n&&t.jsxs("p",{className:"text-danger leading-[1.2] mb-4",children:["Профиль заблокирован. ",t.jsx("a",{className:"text-blue-600",href:"https://wa.me/+992918339939",target:"_blank",children:"Узнать причину."})]}),t.jsx(F,{name:"login",label:"Логин"}),t.jsxs("div",{className:"flex flex-col mb-5",children:[t.jsx(f,{className:"flex ml-auto transform translate-y-[90%] text-sm text-blue-600 transition-all duration-150 hover:text-blue-400",to:i.Auth.ForgotPassword,children:"Забыли пароль?"}),t.jsx(v,{name:"password",label:"Пароль"})]}),t.jsx(S,{className:"justify-center",type:"submit",disabled:e,loading:e,children:"Войти"})]})})}function C(){const s=b(g);return r.useEffect(()=>{s===j.Auth&&(window.location.href=i.Auth.Profile)},[s]),t.jsxs("main",{className:"flex flex-col items-center justify-center min-h-screen bg-illustrations bg-bottom bg-contain bg-no-repeat md:bg-gray-100",children:[t.jsx(w,{className:"mt-8 mb-4 md:mt-12 md:mb-6 xl:mt-0"}),t.jsxs("div",{className:"w-[90vw] max-w-96 mx-auto mb-16 md:bg-white md:shadow-md sm:rounded-lg md:p-10 md:mb-20 xl:mb-28",children:[t.jsx("h1",{className:"title",children:"Вход в онлайн-дневник"}),t.jsxs("p",{className:"text-gray-600 mb-6",children:["Нет аккаунта? ",t.jsx("a",{className:"text-blue-600 transition-all duration-150 hover:text-blue-400",href:"mailto:info@imperiya.vip",children:"Отправьте запрос"})]}),t.jsx(B,{})]})]})}export{C as default};
