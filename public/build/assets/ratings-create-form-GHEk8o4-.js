import{a as l,j as a,ae as u,y as o}from"./main-DHGA4RMi.js";import{c as d,e as p}from"./index.esm-Cm7nRM_x.js";import{B as x}from"./button-DeS5fEeF.js";import{F as f,a as g}from"./formik.esm-BercYKuP.js";import{T as h}from"./text-field-DJsT8N_6.js";const j=d().shape({score:p().required("")});function R({dto:i,onSuccess:r}){const n=l(),c=i,m=async(e,t)=>{t.setSubmitting(!0),await n(u({dto:e,onSuccess:s=>{r&&r(s),o.success("Данные успешно сохранены.")},onValidationError:s=>t.setErrors({...s.errors}),onFail:s=>o.success(s)})),t.setSubmitting(!1)};return a.jsx(f,{initialValues:c,validationSchema:j,onSubmit:m,children:({isSubmitting:e})=>a.jsxs(g,{className:"flex flex-col px-2 gap-2",children:[a.jsx(h,{className:"grow",name:"score",label:"Оценка",autoFocus:!0}),a.jsx("div",{className:"flex items-center justify-end gap-2 -mt-1",children:a.jsx(x,{className:"!h-8 bg-transparent !text-success shadow-none hover:!bg-transparent",type:"submit",disabled:e,loading:e,variant:"success",children:"Сохранить"})})]})})}export{R};
