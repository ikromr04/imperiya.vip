import{j as e,c as l,r as j}from"./main-BqixXxem.js";import{u as y}from"./use-dropdown-C0LV8T1I.js";import{I as g}from"./icons-Be0wsgc_.js";function v({label:r,required:t,...a}){if(r)return e.jsxs("label",{className:"relative z-0 rounded flex max-w-max text-sm text-gray-500 ml-2",...a,children:[r,t&&e.jsx("span",{className:"text-error transform scale-[1.4] translate-y-[10%] translate-x-[16%]",children:"*"})]})}function N({className:r,onClean:t}){return e.jsxs("button",{className:l(r,"flex items-center justify-center h-full w-8 transform -translate-y-1/2"),type:"button",onClick:()=>t&&t(""),children:[e.jsx(g.close,{width:12}),e.jsx("span",{className:"sr-only",children:"Очистить поле"})]})}function k({className:r,inputClass:t,value:a,onChange:n,options:i,label:x,placeholder:u,notNull:d}){const o=j.useId(),{ref:f,menuRef:b,isOpen:c,setIsOpen:m}=y(),p=()=>{var s;return a?(s=i.find(h=>h.value===a))==null?void 0:s.label:e.jsx("span",{className:"text-[#a8a3b7]",children:u})};return e.jsxs("div",{ref:f,className:l(r,"relative flex flex-col"),children:[e.jsx(v,{label:x,htmlFor:o}),e.jsxs("div",{className:"relative flex",children:[e.jsx("button",{className:l("flex items-center min-h-8 grow bg-gray-50 min-w-0 border border-gray-200 rounded pl-4 pr-8 leading-none text-base focus:outline-none hover:bg-gray-100 focus:border-primary focus:bg-gray-100",t),id:o,type:"button",onClick:s=>!s.target.classList.contains("remove-selection")&&m(!c),children:p()}),a&&!d&&e.jsx(N,{className:l("absolute right-0 top-1/2"),onClean:()=>n("")})]}),e.jsx("div",{ref:b,className:l("absolute top-[calc(100%+4px)] right-0 z-10 border rounded-md pb-1 bg-white shadow-sm text-sm min-w-max w-full text-gray-500",c?"visible opacity-100":"invisible opacity-0"),children:e.jsx("ul",{className:"max-h-56 overflow-y-auto scrollbar-y",children:i.map(s=>e.jsx("li",{children:e.jsx("button",{className:"flex w-full items-center h-8 transition-all duration-150 hover:bg-green-50 px-3",type:"button",onClick:()=>{n(s.value),m(!1)},children:s.label})},s.value))})})]})}export{N as C,v as L,k as S};
